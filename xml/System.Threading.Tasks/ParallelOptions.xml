<Type Name="ParallelOptions" FullName="System.Threading.Tasks.ParallelOptions">
  <Metadata><Meta Name="ms.openlocfilehash" Value="41147c8213421a6410b90743914718cacad192cb" /><Meta Name="ms.sourcegitcommit" Value="ea104bc7868886a205b1df30baed6ca34ff70ecb" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="07/20/2019" /><Meta Name="ms.locfileid" Value="68368994" /></Metadata><TypeSignature Language="C#" Value="public class ParallelOptions" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit ParallelOptions extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.Threading.Tasks.ParallelOptions" />
  <TypeSignature Language="VB.NET" Value="Public Class ParallelOptions" />
  <TypeSignature Language="C++ CLI" Value="public ref class ParallelOptions" />
  <TypeSignature Language="F#" Value="type ParallelOptions = class" />
  <AssemblyInfo>
    <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.3.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>mscorlib</AssemblyName>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.1.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="3343a-101">存储用于配置 <see cref="T:System.Threading.Tasks.Parallel" /> 类的方法的操作的选项。</span><span class="sxs-lookup"><span data-stu-id="3343a-101">Stores options that configure the operation of methods on the <see cref="T:System.Threading.Tasks.Parallel" /> class.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[

## Remarks

<span data-ttu-id="3343a-102">默认情况下, 类上<xref:System.Threading.Tasks.Parallel>的方法尝试使用所有可用的处理器, 不可取消, 并以默认值<xref:System.Threading.Tasks.TaskScheduler> (<xref:System.Threading.Tasks.TaskScheduler.Default?displayProperty=nameWithType>) 为目标。</span><span class="sxs-lookup"><span data-stu-id="3343a-102">By default, methods on the <xref:System.Threading.Tasks.Parallel> class attempt to use all available processors, are non-cancelable, and target the default <xref:System.Threading.Tasks.TaskScheduler> (<xref:System.Threading.Tasks.TaskScheduler.Default?displayProperty=nameWithType>).</span></span> <span data-ttu-id="3343a-103"><xref:System.Threading.Tasks.ParallelOptions>允许重写这些默认值。</span><span class="sxs-lookup"><span data-stu-id="3343a-103"><xref:System.Threading.Tasks.ParallelOptions> enables overriding these defaults.</span></span>

 ]]></format>
    </remarks>
    <threadsafe><span data-ttu-id="3343a-104">构造函数是线程安全的, 可供多个线程同时用来构造多个实例。</span><span class="sxs-lookup"><span data-stu-id="3343a-104">The constructor is thread-safe and may be used by multiple threads concurrently to construct multiple instances.</span></span> <span data-ttu-id="3343a-105">其他公共成员都不是线程安全的。</span><span class="sxs-lookup"><span data-stu-id="3343a-105">None of the other public members are thread-safe.</span></span></threadsafe>
    <related type="Article" href="~/docs/standard/parallel-programming/data-parallelism-task-parallel-library.md"><span data-ttu-id="3343a-106">数据并行（任务并行库）</span><span class="sxs-lookup"><span data-stu-id="3343a-106">Data Parallelism (Task Parallel Library)</span></span></related>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public ParallelOptions ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.ParallelOptions.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; ParallelOptions();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="3343a-107">初始化 <see cref="T:System.Threading.Tasks.ParallelOptions" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="3343a-107">Initializes a new instance of the <see cref="T:System.Threading.Tasks.ParallelOptions" /> class.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="3343a-108">此构造函数用默认值初始化实例。</span><span class="sxs-lookup"><span data-stu-id="3343a-108">This constructor initializes the instance with default values.</span></span> <span data-ttu-id="3343a-109"><xref:System.Threading.Tasks.ParallelOptions.MaxDegreeOfParallelism%2A>初始化为-1, 表示没有对应采用的并行度进行上限设置。</span><span class="sxs-lookup"><span data-stu-id="3343a-109"><xref:System.Threading.Tasks.ParallelOptions.MaxDegreeOfParallelism%2A> is initialized to -1, signifying that there is no upper bound set on how much parallelism should be employed.</span></span> <span data-ttu-id="3343a-110"><xref:System.Threading.Tasks.ParallelOptions.CancellationToken%2A>初始化为不可取消的标记, 并<xref:System.Threading.Tasks.ParallelOptions.TaskScheduler%2A>初始化为默认计划程序 (TaskScheduler)。</span><span class="sxs-lookup"><span data-stu-id="3343a-110"><xref:System.Threading.Tasks.ParallelOptions.CancellationToken%2A> is initialized to a non-cancelable token, and <xref:System.Threading.Tasks.ParallelOptions.TaskScheduler%2A> is initialized to the default scheduler (TaskScheduler.Default).</span></span>  
  
 <span data-ttu-id="3343a-111">所有这些默认值都可以使用实例上的属性集访问器进行覆盖。</span><span class="sxs-lookup"><span data-stu-id="3343a-111">All of these defaults may be overwritten using the property set accessors on the instance.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CancellationToken">
      <MemberSignature Language="C#" Value="public System.Threading.CancellationToken CancellationToken { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance valuetype System.Threading.CancellationToken CancellationToken" />
      <MemberSignature Language="DocId" Value="P:System.Threading.Tasks.ParallelOptions.CancellationToken" />
      <MemberSignature Language="VB.NET" Value="Public Property CancellationToken As CancellationToken" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Threading::CancellationToken CancellationToken { System::Threading::CancellationToken get(); void set(System::Threading::CancellationToken value); };" />
      <MemberSignature Language="F#" Value="member this.CancellationToken : System.Threading.CancellationToken with get, set" Usage="System.Threading.Tasks.ParallelOptions.CancellationToken" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.CancellationToken</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="3343a-112">获取或设置与此 <see cref="T:System.Threading.Tasks.ParallelOptions" /> 实例关联的 <see cref="T:System.Threading.CancellationToken" />。</span><span class="sxs-lookup"><span data-stu-id="3343a-112">Gets or sets the <see cref="T:System.Threading.CancellationToken" /> associated with this <see cref="T:System.Threading.Tasks.ParallelOptions" /> instance.</span></span></summary>
        <value><span data-ttu-id="3343a-113">与此实例关联的标记。</span><span class="sxs-lookup"><span data-stu-id="3343a-113">The token that is associated with this instance.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="3343a-114"><xref:System.Threading.CancellationToken> 如果<xref:System.Threading.Tasks.Parallel>向方法提供, 则可以提前退出该操作。</span><span class="sxs-lookup"><span data-stu-id="3343a-114">Providing a <xref:System.Threading.CancellationToken> to a <xref:System.Threading.Tasks.Parallel> method enables the operation to be exited early.</span></span> <span data-ttu-id="3343a-115">操作外部的代码可以取消标记, 如果操作观察到正在设置的标记, 它可能会通过引发<xref:System.OperationCanceledException>来提前退出。</span><span class="sxs-lookup"><span data-stu-id="3343a-115">Code external to the operation may cancel the token, and if the operation observes the token being set, it may exit early by throwing an <xref:System.OperationCanceledException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="MaxDegreeOfParallelism">
      <MemberSignature Language="C#" Value="public int MaxDegreeOfParallelism { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance int32 MaxDegreeOfParallelism" />
      <MemberSignature Language="DocId" Value="P:System.Threading.Tasks.ParallelOptions.MaxDegreeOfParallelism" />
      <MemberSignature Language="VB.NET" Value="Public Property MaxDegreeOfParallelism As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property int MaxDegreeOfParallelism { int get(); void set(int value); };" />
      <MemberSignature Language="F#" Value="member this.MaxDegreeOfParallelism : int with get, set" Usage="System.Threading.Tasks.ParallelOptions.MaxDegreeOfParallelism" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="3343a-116">获取或设置此 <see cref="T:System.Threading.Tasks.ParallelOptions" /> 实例所允许的并发任务的最大数目。</span><span class="sxs-lookup"><span data-stu-id="3343a-116">Gets or sets the maximum number of concurrent tasks enabled by this <see cref="T:System.Threading.Tasks.ParallelOptions" /> instance.</span></span></summary>
        <value><span data-ttu-id="3343a-117">一个表示最大并行度的整数。</span><span class="sxs-lookup"><span data-stu-id="3343a-117">An integer that represents the maximum degree of parallelism.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="3343a-118">属性影响通过<xref:System.Threading.Tasks.Parallel> 此<xref:System.Threading.Tasks.ParallelOptions>实例传递的方法调用所运行的并发操作的数量。 <xref:System.Threading.Tasks.ParallelOptions.MaxDegreeOfParallelism%2A></span><span class="sxs-lookup"><span data-stu-id="3343a-118">The <xref:System.Threading.Tasks.ParallelOptions.MaxDegreeOfParallelism%2A> property affects the number of concurrent operations run by <xref:System.Threading.Tasks.Parallel> method calls that are passed this <xref:System.Threading.Tasks.ParallelOptions> instance.</span></span> <span data-ttu-id="3343a-119">正属性值将并发操作的数量限制为设置值。</span><span class="sxs-lookup"><span data-stu-id="3343a-119">A positive property value limits the number of concurrent operations to the set value.</span></span> <span data-ttu-id="3343a-120">如果为-1, 则对并发运行的操作的数量没有限制。</span><span class="sxs-lookup"><span data-stu-id="3343a-120">If it is -1,  there is no limit on the number of concurrently running operations.</span></span>  
  
 <span data-ttu-id="3343a-121">默认情况下<xref:System.Threading.Tasks.Parallel.For%2A> , <xref:System.Threading.Tasks.Parallel.ForEach%2A>和将使用基础计划程序提供的多个线程, <xref:System.Threading.Tasks.ParallelOptions.MaxDegreeOfParallelism%2A>因此, 从默认值更改仅限制将使用的并发任务数。</span><span class="sxs-lookup"><span data-stu-id="3343a-121">By default, <xref:System.Threading.Tasks.Parallel.For%2A> and <xref:System.Threading.Tasks.Parallel.ForEach%2A> will utilize however many threads the underlying scheduler provides, so changing <xref:System.Threading.Tasks.ParallelOptions.MaxDegreeOfParallelism%2A> from the default only limits how many concurrent tasks will be used.</span></span>  
  
 <span data-ttu-id="3343a-122">通常情况下, 不需要修改此设置。</span><span class="sxs-lookup"><span data-stu-id="3343a-122">Generally, you do not need to modify this setting.</span></span> <span data-ttu-id="3343a-123">但是, 你可以选择在高级使用方案中显式设置此项, 例如:</span><span class="sxs-lookup"><span data-stu-id="3343a-123">However, you may choose to set it explicitly in advanced usage scenarios such as these:</span></span>  
  
-   <span data-ttu-id="3343a-124">当你知道所使用的特定算法不能扩展到超出一定数量的内核时。</span><span class="sxs-lookup"><span data-stu-id="3343a-124">When you know that a particular algorithm you're using won't scale beyond a certain number of cores.</span></span> <span data-ttu-id="3343a-125">可以设置属性, 以避免在额外的内核上浪费循环。</span><span class="sxs-lookup"><span data-stu-id="3343a-125">You can set the property to avoid wasting cycles on additional cores.</span></span>  
  
-   <span data-ttu-id="3343a-126">同时运行多个算法, 并希望手动定义每个算法可以利用的系统量。</span><span class="sxs-lookup"><span data-stu-id="3343a-126">When you're running multiple algorithms concurrently and want to manually define how much of the system each algorithm can utilize.</span></span> <span data-ttu-id="3343a-127">可以为每个<xref:System.Threading.Tasks.ParallelOptions.MaxDegreeOfParallelism%2A>设置一个值。</span><span class="sxs-lookup"><span data-stu-id="3343a-127">You can set a <xref:System.Threading.Tasks.ParallelOptions.MaxDegreeOfParallelism%2A> value for each.</span></span>  
  
-   <span data-ttu-id="3343a-128">当线程池的试探法无法确定要使用的正确线程数时, 可能最终会注入太多线程。</span><span class="sxs-lookup"><span data-stu-id="3343a-128">When the thread pool's heuristics is unable to determine the right number of threads to use and could end up injecting too many threads.</span></span> <span data-ttu-id="3343a-129">例如, 在长时间运行的循环正文迭代中, 线程池可能无法判断合理进度或 livelock 或死锁之间的差异, 并且可能无法回收添加的线程以提高性能。</span><span class="sxs-lookup"><span data-stu-id="3343a-129">For example, in long-running loop body iterations, the thread pool might not be able to tell the difference between reasonable progress or livelock or deadlock, and might not be able to reclaim threads that were added to improve performance.</span></span> <span data-ttu-id="3343a-130">在这种情况下, 可以设置属性以确保使用的线程数不超过合理。</span><span class="sxs-lookup"><span data-stu-id="3343a-130">In this case, you can set the property to ensure that you don't use more than a reasonable number of threads.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="3343a-131">该属性被设置为 0 或小于 1- 的值。</span><span class="sxs-lookup"><span data-stu-id="3343a-131">The property is being set to zero or to a value that is less than -1.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="TaskScheduler">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.TaskScheduler TaskScheduler { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Threading.Tasks.TaskScheduler TaskScheduler" />
      <MemberSignature Language="DocId" Value="P:System.Threading.Tasks.ParallelOptions.TaskScheduler" />
      <MemberSignature Language="VB.NET" Value="Public Property TaskScheduler As TaskScheduler" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Threading::Tasks::TaskScheduler ^ TaskScheduler { System::Threading::Tasks::TaskScheduler ^ get(); void set(System::Threading::Tasks::TaskScheduler ^ value); };" />
      <MemberSignature Language="F#" Value="member this.TaskScheduler : System.Threading.Tasks.TaskScheduler with get, set" Usage="System.Threading.Tasks.ParallelOptions.TaskScheduler" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.TaskScheduler</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="3343a-132">获取或设置与此 <see cref="T:System.Threading.Tasks.ParallelOptions" /> 实例关联的 <see cref="T:System.Threading.Tasks.TaskScheduler" />。</span><span class="sxs-lookup"><span data-stu-id="3343a-132">Gets or sets the <see cref="T:System.Threading.Tasks.TaskScheduler" /> associated with this <see cref="T:System.Threading.Tasks.ParallelOptions" /> instance.</span></span> <span data-ttu-id="3343a-133">将此属性设置为 null，以指示应使用当前计划程序。</span><span class="sxs-lookup"><span data-stu-id="3343a-133">Setting this property to null indicates that the current scheduler should be used.</span></span></summary>
        <value><span data-ttu-id="3343a-134">与此实例关联的任务计划程序。</span><span class="sxs-lookup"><span data-stu-id="3343a-134">The task scheduler that is associated with this instance.</span></span></value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
  </Members>
</Type>
