<Type Name="WebMethodAttribute" FullName="System.Web.Services.WebMethodAttribute">
  <Metadata><Meta Name="ms.openlocfilehash" Value="6f83ae394ce7fe526da3c62e76d3af8087921c28" /><Meta Name="ms.sourcegitcommit" Value="055a4a82a0b08bfbdc21bd1347fb71f7fe2c099e" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="08/15/2019" /><Meta Name="ms.locfileid" Value="69048319" /></Metadata><TypeSignature Language="C#" Value="public sealed class WebMethodAttribute : Attribute" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit WebMethodAttribute extends System.Attribute" />
  <TypeSignature Language="DocId" Value="T:System.Web.Services.WebMethodAttribute" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class WebMethodAttribute&#xA;Inherits Attribute" />
  <TypeSignature Language="C++ CLI" Value="public ref class WebMethodAttribute sealed : Attribute" />
  <TypeSignature Language="F#" Value="type WebMethodAttribute = class&#xA;    inherit Attribute" />
  <AssemblyInfo>
    <AssemblyName>System.Web.Services</AssemblyName>
    <AssemblyVersion>1.0.5000.0</AssemblyVersion>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Attribute</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
      <AttributeName>System.AttributeUsage(System.AttributeTargets.Method, Inherited=true)</AttributeName>
    </Attribute>
    <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
      <AttributeName>System.AttributeUsage(System.AttributeTargets.Method)</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary><span data-ttu-id="a2b39-101">向使用 ASP.NET 创建的 XML Web service 中的某个方法添加此特性后，就可以从远程 Web 客户端调用该方法。</span><span class="sxs-lookup"><span data-stu-id="a2b39-101">Adding this attribute to a method within an XML Web service created using ASP.NET makes the method callable from remote Web clients.</span></span> <span data-ttu-id="a2b39-102">此类不能被继承。</span><span class="sxs-lookup"><span data-stu-id="a2b39-102">This class cannot be inherited.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a2b39-103">类中具有此属性集的方法称为 XML Web service 方法。</span><span class="sxs-lookup"><span data-stu-id="a2b39-103">Methods within a class that have this attribute set are called XML Web service methods.</span></span> <span data-ttu-id="a2b39-104">方法和类必须是公共的并在 ASP.NET Web 应用程序中运行。</span><span class="sxs-lookup"><span data-stu-id="a2b39-104">The method and class must be public and running inside an ASP.NET Web application.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="a2b39-105">在下面的示例中, `GetMachineName`可以通过 Web 远程调用方法, 因为它具有一个。 <xref:System.Web.Services.WebMethodAttribute></span><span class="sxs-lookup"><span data-stu-id="a2b39-105">In the example below the method `GetMachineName` can be remotely called across the Web, because it has a <xref:System.Web.Services.WebMethodAttribute>.</span></span> <span data-ttu-id="a2b39-106">`GetUserName`不能远程调用, 因为它<xref:System.Web.Services.WebMethodAttribute>没有, 即使它是。 `public`</span><span class="sxs-lookup"><span data-stu-id="a2b39-106">`GetUserName` cannot be called remotely, because it does not have a <xref:System.Web.Services.WebMethodAttribute>, even though it is `public`.</span></span>  
  
 [!code-aspx-csharp[Classic WebMethodAttribute Example#1](~/samples/snippets/csharp/VS_Snippets_Remoting/Classic WebMethodAttribute Example/CS/sourcecs.asmx)]
 [!code-aspx-vb[Classic WebMethodAttribute Example#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/Classic WebMethodAttribute Example/VB/sourcevb.asmx)]
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.EnterpriseServices.TransactionOption" />
    <altmember cref="T:System.Web.Services.WebService" />
  </Docs>
  <Members>
    <MemberGroup MemberName=".ctor">
      <AssemblyInfo>
        <AssemblyName>System.Web.Services</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="a2b39-107">初始化 <see cref="T:System.Web.Services.WebMethodAttribute" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="a2b39-107">Initializes a new instance of the <see cref="T:System.Web.Services.WebMethodAttribute" /> class.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public WebMethodAttribute ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Services.WebMethodAttribute.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; WebMethodAttribute();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Services</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="a2b39-108">初始化 <see cref="T:System.Web.Services.WebMethodAttribute" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="a2b39-108">Initializes a new instance of the <see cref="T:System.Web.Services.WebMethodAttribute" /> class.</span></span></summary>
        <remarks>To be added.</remarks>
        <altmember cref="T:System.Web.Services.WebMethodAttribute" />
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public WebMethodAttribute (bool enableSession);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(bool enableSession) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Services.WebMethodAttribute.#ctor(System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (enableSession As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; WebMethodAttribute(bool enableSession);" />
      <MemberSignature Language="F#" Value="new System.Web.Services.WebMethodAttribute : bool -&gt; System.Web.Services.WebMethodAttribute" Usage="new System.Web.Services.WebMethodAttribute enableSession" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Services</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="enableSession" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="enableSession"><span data-ttu-id="a2b39-109">初始化是否为 XML Web service 方法启用会话状态。</span><span class="sxs-lookup"><span data-stu-id="a2b39-109">Initializes whether session state is enabled for the XML Web service method.</span></span></param>
        <summary><span data-ttu-id="a2b39-110">初始化 <see cref="T:System.Web.Services.WebMethodAttribute" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="a2b39-110">Initializes a new instance of the <see cref="T:System.Web.Services.WebMethodAttribute" /> class.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public WebMethodAttribute (bool enableSession, System.EnterpriseServices.TransactionOption transactionOption);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(bool enableSession, valuetype System.EnterpriseServices.TransactionOption transactionOption) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Services.WebMethodAttribute.#ctor(System.Boolean,System.EnterpriseServices.TransactionOption)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; WebMethodAttribute(bool enableSession, System::EnterpriseServices::TransactionOption transactionOption);" />
      <MemberSignature Language="F#" Value="new System.Web.Services.WebMethodAttribute : bool * System.EnterpriseServices.TransactionOption -&gt; System.Web.Services.WebMethodAttribute" Usage="new System.Web.Services.WebMethodAttribute (enableSession, transactionOption)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Services</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="enableSession" Type="System.Boolean" Index="0" FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinmac-3.0" />
        <Parameter Name="transactionOption" Type="System.EnterpriseServices.TransactionOption" Index="1" FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="enableSession"><span data-ttu-id="a2b39-111">初始化是否为 XML Web service 方法启用会话状态。</span><span class="sxs-lookup"><span data-stu-id="a2b39-111">Initializes whether session state is enabled for the XML Web service method.</span></span></param>
        <param name="transactionOption"><span data-ttu-id="a2b39-112">初始化 XML Web service 方法的事务支持。</span><span class="sxs-lookup"><span data-stu-id="a2b39-112">Initializes the transaction support of an XML Web service method.</span></span></param>
        <summary><span data-ttu-id="a2b39-113">初始化 <see cref="T:System.Web.Services.WebMethodAttribute" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="a2b39-113">Initializes a new instance of the <see cref="T:System.Web.Services.WebMethodAttribute" /> class.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a2b39-114">Web 服务调用只能是事务的根, 因为 HTTP 协议的无状态特性。</span><span class="sxs-lookup"><span data-stu-id="a2b39-114">A web service call can only be the root of a transaction, due to the stateless nature of the HTTP protocol.</span></span> <span data-ttu-id="a2b39-115">这意味着以下两个设置是等效的, 每次调用创建一个新事务时:</span><span class="sxs-lookup"><span data-stu-id="a2b39-115">This means that the following two settings are equivalent, with each call creating a new transaction:</span></span>  
  
```  
[WebMethod(TransactionOption = TransactionOption.Required)]  
[WebMethod(TransactionOption = TransactionOption.RequiresNew)]  
```  
  
 <span data-ttu-id="a2b39-116">这也意味着, 所有以下设置都是等效的;也就是说, 不支持事务:</span><span class="sxs-lookup"><span data-stu-id="a2b39-116">It also means that all the following settings are equivalent; meaning no transaction support:</span></span>  
  
```  
[WebMethod] // TransactionOption.Disabled is the default  
[WebMethod(TransactionOption = TransactionOption.Disabled)]  
[WebMethod(TransactionOption = Transaction.NotSupported)]  
[WebMethod(TransactionOption = Transaction.Supported)]  
```  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public WebMethodAttribute (bool enableSession, System.Web.Services.TransactionOption transactionOption);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(bool enableSession, valuetype System.Web.Services.TransactionOption transactionOption) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Services.WebMethodAttribute.#ctor(System.Boolean,System.Web.Services.TransactionOption)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; WebMethodAttribute(bool enableSession, System::Web::Services::TransactionOption transactionOption);" />
      <MemberSignature Language="F#" Value="new System.Web.Services.WebMethodAttribute : bool * System.Web.Services.TransactionOption -&gt; System.Web.Services.WebMethodAttribute" Usage="new System.Web.Services.WebMethodAttribute (enableSession, transactionOption)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Services</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="enableSession" Type="System.Boolean" Index="0" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8" />
        <Parameter Name="transactionOption" Type="System.Web.Services.TransactionOption" Index="1" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8" />
      </Parameters>
      <Docs>
        <param name="enableSession">To be added.</param>
        <param name="transactionOption">To be added.</param>
        <summary>To be added.</summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public WebMethodAttribute (bool enableSession, System.EnterpriseServices.TransactionOption transactionOption, int cacheDuration);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(bool enableSession, valuetype System.EnterpriseServices.TransactionOption transactionOption, int32 cacheDuration) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Services.WebMethodAttribute.#ctor(System.Boolean,System.EnterpriseServices.TransactionOption,System.Int32)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; WebMethodAttribute(bool enableSession, System::EnterpriseServices::TransactionOption transactionOption, int cacheDuration);" />
      <MemberSignature Language="F#" Value="new System.Web.Services.WebMethodAttribute : bool * System.EnterpriseServices.TransactionOption * int -&gt; System.Web.Services.WebMethodAttribute" Usage="new System.Web.Services.WebMethodAttribute (enableSession, transactionOption, cacheDuration)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Services</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="enableSession" Type="System.Boolean" Index="0" FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinmac-3.0" />
        <Parameter Name="transactionOption" Type="System.EnterpriseServices.TransactionOption" Index="1" FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinmac-3.0" />
        <Parameter Name="cacheDuration" Type="System.Int32" Index="2" FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="enableSession"><span data-ttu-id="a2b39-117">初始化是否为 XML Web service 方法启用会话状态。</span><span class="sxs-lookup"><span data-stu-id="a2b39-117">Initializes whether session state is enabled for the XML Web service method.</span></span></param>
        <param name="transactionOption"><span data-ttu-id="a2b39-118">初始化 XML Web service 方法的事务支持。</span><span class="sxs-lookup"><span data-stu-id="a2b39-118">Initializes the transaction support of an XML Web service method.</span></span></param>
        <param name="cacheDuration"><span data-ttu-id="a2b39-119">初始化响应的缓存秒数。</span><span class="sxs-lookup"><span data-stu-id="a2b39-119">Initializes the number of seconds the response is cached.</span></span></param>
        <summary><span data-ttu-id="a2b39-120">初始化 <see cref="T:System.Web.Services.WebMethodAttribute" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="a2b39-120">Initializes a new instance of the <see cref="T:System.Web.Services.WebMethodAttribute" /> class.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a2b39-121">Web 服务调用只能是事务的根, 因为 HTTP 协议的无状态特性。</span><span class="sxs-lookup"><span data-stu-id="a2b39-121">A web service call can only be the root of a transaction, due to the stateless nature of the HTTP protocol.</span></span>  <span data-ttu-id="a2b39-122">这意味着以下两个设置是等效的, 每次调用创建一个新事务时:</span><span class="sxs-lookup"><span data-stu-id="a2b39-122">This means that the following two settings are equivalent, with each call creating a new transaction:</span></span>  
  
```  
[WebMethod(TransactionOption = TransactionOption.Required)]  
[WebMethod(TransactionOption = TransactionOption.RequiresNew)]  
```  
  
 <span data-ttu-id="a2b39-123">这也意味着, 所有以下设置都是等效的;也就是说, 不支持事务:</span><span class="sxs-lookup"><span data-stu-id="a2b39-123">It also means that all the following settings are equivalent; meaning no transaction support:</span></span>  
  
```  
[WebMethod] // TransactionOption.Disabled is the default  
[WebMethod(TransactionOption = TransactionOption.Disabled)]  
[WebMethod(TransactionOption = Transaction.NotSupported)]  
[WebMethod(TransactionOption = Transaction.Supported)]  
```  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public WebMethodAttribute (bool enableSession, System.Web.Services.TransactionOption transactionOption, int cacheDuration);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(bool enableSession, valuetype System.Web.Services.TransactionOption transactionOption, int32 cacheDuration) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Services.WebMethodAttribute.#ctor(System.Boolean,System.Web.Services.TransactionOption,System.Int32)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; WebMethodAttribute(bool enableSession, System::Web::Services::TransactionOption transactionOption, int cacheDuration);" />
      <MemberSignature Language="F#" Value="new System.Web.Services.WebMethodAttribute : bool * System.Web.Services.TransactionOption * int -&gt; System.Web.Services.WebMethodAttribute" Usage="new System.Web.Services.WebMethodAttribute (enableSession, transactionOption, cacheDuration)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Services</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="enableSession" Type="System.Boolean" Index="0" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8" />
        <Parameter Name="transactionOption" Type="System.Web.Services.TransactionOption" Index="1" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8" />
        <Parameter Name="cacheDuration" Type="System.Int32" Index="2" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8" />
      </Parameters>
      <Docs>
        <param name="enableSession">To be added.</param>
        <param name="transactionOption">To be added.</param>
        <param name="cacheDuration">To be added.</param>
        <summary>To be added.</summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public WebMethodAttribute (bool enableSession, System.EnterpriseServices.TransactionOption transactionOption, int cacheDuration, bool bufferResponse);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(bool enableSession, valuetype System.EnterpriseServices.TransactionOption transactionOption, int32 cacheDuration, bool bufferResponse) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Services.WebMethodAttribute.#ctor(System.Boolean,System.EnterpriseServices.TransactionOption,System.Int32,System.Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; WebMethodAttribute(bool enableSession, System::EnterpriseServices::TransactionOption transactionOption, int cacheDuration, bool bufferResponse);" />
      <MemberSignature Language="F#" Value="new System.Web.Services.WebMethodAttribute : bool * System.EnterpriseServices.TransactionOption * int * bool -&gt; System.Web.Services.WebMethodAttribute" Usage="new System.Web.Services.WebMethodAttribute (enableSession, transactionOption, cacheDuration, bufferResponse)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Services</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="enableSession" Type="System.Boolean" Index="0" FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinmac-3.0" />
        <Parameter Name="transactionOption" Type="System.EnterpriseServices.TransactionOption" Index="1" FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinmac-3.0" />
        <Parameter Name="cacheDuration" Type="System.Int32" Index="2" FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinmac-3.0" />
        <Parameter Name="bufferResponse" Type="System.Boolean" Index="3" FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="enableSession"><span data-ttu-id="a2b39-124">初始化是否为 XML Web service 方法启用会话状态。</span><span class="sxs-lookup"><span data-stu-id="a2b39-124">Initializes whether session state is enabled for the XML Web service method.</span></span></param>
        <param name="transactionOption"><span data-ttu-id="a2b39-125">初始化 XML Web service 方法的事务支持。</span><span class="sxs-lookup"><span data-stu-id="a2b39-125">Initializes the transaction support of an XML Web service method.</span></span></param>
        <param name="cacheDuration"><span data-ttu-id="a2b39-126">初始化响应的缓存秒数。</span><span class="sxs-lookup"><span data-stu-id="a2b39-126">Initializes the number of seconds the response is cached.</span></span></param>
        <param name="bufferResponse"><span data-ttu-id="a2b39-127">初始化是否对此请求的响应进行缓冲处理。</span><span class="sxs-lookup"><span data-stu-id="a2b39-127">Initializes whether the response for this request is buffered.</span></span></param>
        <summary><span data-ttu-id="a2b39-128">初始化 <see cref="T:System.Web.Services.WebMethodAttribute" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="a2b39-128">Initializes a new instance of the <see cref="T:System.Web.Services.WebMethodAttribute" /> class.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a2b39-129">Web 服务调用只能是事务的根, 因为 HTTP 协议的无状态特性。</span><span class="sxs-lookup"><span data-stu-id="a2b39-129">A web service call can only be the root of a transaction, due to the stateless nature of the HTTP protocol.</span></span>  <span data-ttu-id="a2b39-130">这意味着以下两个设置是等效的, 每次调用创建一个新事务时:</span><span class="sxs-lookup"><span data-stu-id="a2b39-130">This means that the following two settings are equivalent, with each call creating a new transaction:</span></span>  
  
```  
[WebMethod(TransactionOption = TransactionOption.Required)]  
[WebMethod(TransactionOption = TransactionOption.RequiresNew)]  
```  
  
 <span data-ttu-id="a2b39-131">这也意味着, 所有以下设置都是等效的;也就是说, 不支持事务:</span><span class="sxs-lookup"><span data-stu-id="a2b39-131">It also means that all the following settings are equivalent; meaning no transaction support:</span></span>  
  
```  
[WebMethod] // TransactionOption.Disabled is the default  
[WebMethod(TransactionOption = TransactionOption.Disabled)]  
[WebMethod(TransactionOption = Transaction.NotSupported)]  
[WebMethod(TransactionOption = Transaction.Supported)]  
```  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public WebMethodAttribute (bool enableSession, System.Web.Services.TransactionOption transactionOption, int cacheDuration, bool bufferResponse);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(bool enableSession, valuetype System.Web.Services.TransactionOption transactionOption, int32 cacheDuration, bool bufferResponse) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Services.WebMethodAttribute.#ctor(System.Boolean,System.Web.Services.TransactionOption,System.Int32,System.Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; WebMethodAttribute(bool enableSession, System::Web::Services::TransactionOption transactionOption, int cacheDuration, bool bufferResponse);" />
      <MemberSignature Language="F#" Value="new System.Web.Services.WebMethodAttribute : bool * System.Web.Services.TransactionOption * int * bool -&gt; System.Web.Services.WebMethodAttribute" Usage="new System.Web.Services.WebMethodAttribute (enableSession, transactionOption, cacheDuration, bufferResponse)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Services</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="enableSession" Type="System.Boolean" Index="0" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8" />
        <Parameter Name="transactionOption" Type="System.Web.Services.TransactionOption" Index="1" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8" />
        <Parameter Name="cacheDuration" Type="System.Int32" Index="2" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8" />
        <Parameter Name="bufferResponse" Type="System.Boolean" Index="3" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8" />
      </Parameters>
      <Docs>
        <param name="enableSession">To be added.</param>
        <param name="transactionOption">To be added.</param>
        <param name="cacheDuration">To be added.</param>
        <param name="bufferResponse">To be added.</param>
        <summary>To be added.</summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="BufferResponse">
      <MemberSignature Language="C#" Value="public bool BufferResponse { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool BufferResponse" />
      <MemberSignature Language="DocId" Value="P:System.Web.Services.WebMethodAttribute.BufferResponse" />
      <MemberSignature Language="VB.NET" Value="Public Property BufferResponse As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool BufferResponse { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.BufferResponse : bool with get, set" Usage="System.Web.Services.WebMethodAttribute.BufferResponse" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Services</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="a2b39-132">获取或设置是否缓存该请求的响应。</span><span class="sxs-lookup"><span data-stu-id="a2b39-132">Gets or sets whether the response for this request is buffered.</span></span></summary>
        <value><span data-ttu-id="a2b39-133">如果缓存该请求的响应，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="a2b39-133"><see langword="true" /> if the response for this request is buffered; otherwise, <see langword="false" />.</span></span> <span data-ttu-id="a2b39-134">默认值为 <see langword="true" />。</span><span class="sxs-lookup"><span data-stu-id="a2b39-134">The default is <see langword="true" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a2b39-135">如果<xref:System.Web.Services.WebMethodAttribute.BufferResponse%2A>将`true`设置为, 则会将 XML Web service 方法的响应序列化为内存缓冲区, 直到响应完全序列化或缓冲区已满。</span><span class="sxs-lookup"><span data-stu-id="a2b39-135">Setting <xref:System.Web.Services.WebMethodAttribute.BufferResponse%2A> to `true`, serializes the response of the XML Web service method into a memory buffer until either the response is completely serialized or the buffer is full.</span></span> <span data-ttu-id="a2b39-136">缓冲响应后, 会通过网络将其返回到 XML Web service 客户端。</span><span class="sxs-lookup"><span data-stu-id="a2b39-136">Once the response is buffered, it is returned to the XML Web service client over the network.</span></span> <span data-ttu-id="a2b39-137">当<xref:System.Web.Services.WebMethodAttribute.BufferResponse%2A> 为`false`时, 对 XML Web service 方法的响应将在序列化时发送回客户端。</span><span class="sxs-lookup"><span data-stu-id="a2b39-137">When <xref:System.Web.Services.WebMethodAttribute.BufferResponse%2A> is `false`, the response to the XML Web service method is sent back to the client as it is serialized.</span></span> <span data-ttu-id="a2b39-138">通常, 如果已知 XML Web service 方法向客户<xref:System.Web.Services.WebMethodAttribute.BufferResponse%2A>端`false`返回大量数据, 则只需将设置为。</span><span class="sxs-lookup"><span data-stu-id="a2b39-138">In general, you only want to set <xref:System.Web.Services.WebMethodAttribute.BufferResponse%2A> to `false`, if it is known that an XML Web service method returns large amounts of data to the client.</span></span> <span data-ttu-id="a2b39-139">对于较小的数据量, XML Web service 性能对于更<xref:System.Web.Services.WebMethodAttribute.BufferResponse%2A>好`true`。</span><span class="sxs-lookup"><span data-stu-id="a2b39-139">For smaller amounts of data, XML Web service performance is better with <xref:System.Web.Services.WebMethodAttribute.BufferResponse%2A> to `true`.</span></span>  
  
 <span data-ttu-id="a2b39-140">当<xref:System.Web.Services.WebMethodAttribute.BufferResponse%2A> 为`false`时, 将为 XML Web service 方法禁用 SOAP 扩展。</span><span class="sxs-lookup"><span data-stu-id="a2b39-140">When <xref:System.Web.Services.WebMethodAttribute.BufferResponse%2A> is `false`, SOAP extensions are disabled for the XML Web service method.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="a2b39-141">下面的代码示例将<xref:System.Web.Services.WebMethodAttribute.BufferResponse%2A>属性设置为`false` , 并将文本文件的流式处理返回给客户端。</span><span class="sxs-lookup"><span data-stu-id="a2b39-141">The following code example sets the <xref:System.Web.Services.WebMethodAttribute.BufferResponse%2A> property to `false` and handles the streaming of a text file back to the client.</span></span> <span data-ttu-id="a2b39-142">此代码示例演示如何使用实现<xref:System.Collections.IEnumerable>接口的类将大量数据流式传输回客户端。</span><span class="sxs-lookup"><span data-stu-id="a2b39-142">The code example demonstrates how to stream a large piece of data back to the client using a class that implements the <xref:System.Collections.IEnumerable> interface.</span></span>  
  
 [!code-aspx-csharp[Classic WebMethodAttribute.BufferResponse Example#1](~/samples/snippets/csharp/VS_Snippets_Remoting/Classic WebMethodAttribute.BufferResponse Example/CS/sourcecs.asmx)]
 [!code-aspx-vb[Classic WebMethodAttribute.BufferResponse Example#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/Classic WebMethodAttribute.BufferResponse Example/VB/sourcevb.asmx)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CacheDuration">
      <MemberSignature Language="C#" Value="public int CacheDuration { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance int32 CacheDuration" />
      <MemberSignature Language="DocId" Value="P:System.Web.Services.WebMethodAttribute.CacheDuration" />
      <MemberSignature Language="VB.NET" Value="Public Property CacheDuration As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property int CacheDuration { int get(); void set(int value); };" />
      <MemberSignature Language="F#" Value="member this.CacheDuration : int with get, set" Usage="System.Web.Services.WebMethodAttribute.CacheDuration" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Services</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="a2b39-143">获取或设置响应应在缓存中保留的秒数。</span><span class="sxs-lookup"><span data-stu-id="a2b39-143">Gets or sets the number of seconds the response should be held in the cache.</span></span></summary>
        <value><span data-ttu-id="a2b39-144">响应应在缓存中保留的秒数。</span><span class="sxs-lookup"><span data-stu-id="a2b39-144">The number of seconds the response should be held in the cache.</span></span> <span data-ttu-id="a2b39-145">默认值为 0，表示不缓存响应。</span><span class="sxs-lookup"><span data-stu-id="a2b39-145">The default is 0, which means the response is not cached.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a2b39-146">当启用缓存时, 请求和响应将保留在服务器上的内存中至少用于缓存持续时间, 因此, 如果您希望请求或响应非常大或者您希望请求发生变化很大, 则必须谨慎使用。</span><span class="sxs-lookup"><span data-stu-id="a2b39-146">When caching is enabled requests and responses are held in memory on the server for at least the cache duration so caution must be used if you expect requests or responses to be very large or you expect requests to vary widely.</span></span>  
  
 <span data-ttu-id="a2b39-147">有两个问题可以影响 ASP.NET 2.0 Web 服务应用程序中的输出缓存。</span><span class="sxs-lookup"><span data-stu-id="a2b39-147">There are two issues that can affect output caching in an ASP.NET 2.0 Web service application.</span></span>  
  
 <span data-ttu-id="a2b39-148">在 ASP.NET 2.0 中，测试页的 HTTP 方法已从 GET 更改为 POST。</span><span class="sxs-lookup"><span data-stu-id="a2b39-148">In ASP.NET 2.0 the HTTP method of the test page has changed from GET to POST.</span></span> <span data-ttu-id="a2b39-149">但是 POST 通常不进行缓存。</span><span class="sxs-lookup"><span data-stu-id="a2b39-149">However, POSTs are not normally cached.</span></span> <span data-ttu-id="a2b39-150">如果在 ASP.NET 2.0 Web 服务应用程序的测试页中改为使用 GET，缓存将正常工作。</span><span class="sxs-lookup"><span data-stu-id="a2b39-150">If you change the test page in an ASP.NET 2.0 Web service application to use GET, caching works properly.</span></span>  
  
 <span data-ttu-id="a2b39-151">此外，HTTP 指示用户代理（浏览器或调用应用程序）应该可以通过将“Cache-Control”设置为“no-cache”以重写服务器缓存。</span><span class="sxs-lookup"><span data-stu-id="a2b39-151">In addition, HTTP indicates that a user agent (the browser or calling application) should be able to override server caching by setting the "Cache-Control" to "no-cache".</span></span> <span data-ttu-id="a2b39-152">因此，当 ASP.NET 应用程序找到“no-cache”标头时，会忽略缓存的结果。</span><span class="sxs-lookup"><span data-stu-id="a2b39-152">ASP.NET applications, therefore, ignore cached results when they find a "no-cache" header.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="a2b39-153">下面的示例将对缓存中的`ServiceUsage` XML Web service 方法的调用结果放在60秒内。</span><span class="sxs-lookup"><span data-stu-id="a2b39-153">The following example places the result of the call to the `ServiceUsage` XML Web service method in the cache for 60 seconds.</span></span> <span data-ttu-id="a2b39-154">XML Web service 客户端在该时间段`ServiceUsage`内执行 XML Web service 方法时, 将返回相同的结果。</span><span class="sxs-lookup"><span data-stu-id="a2b39-154">Any time an XML Web service client executes the `ServiceUsage` XML Web service method during that time, the same result is returned.</span></span>  
  
 [!code-aspx-csharp[Classic WebMethodAttribute.CacheDuration Example#1](~/samples/snippets/csharp/VS_Snippets_Remoting/Classic WebMethodAttribute.CacheDuration Example/CS/sourcecs.asmx)]
 [!code-aspx-vb[Classic WebMethodAttribute.CacheDuration Example#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/Classic WebMethodAttribute.CacheDuration Example/VB/sourcevb.asmx)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Description">
      <MemberSignature Language="C#" Value="public string Description { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string Description" />
      <MemberSignature Language="DocId" Value="P:System.Web.Services.WebMethodAttribute.Description" />
      <MemberSignature Language="VB.NET" Value="Public Property Description As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ Description { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Description : string with get, set" Usage="System.Web.Services.WebMethodAttribute.Description" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Services</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="a2b39-155">描述 XML Web service 方法的描述性消息。</span><span class="sxs-lookup"><span data-stu-id="a2b39-155">A descriptive message describing the XML Web service method.</span></span></summary>
        <value><span data-ttu-id="a2b39-156">描述 XML Web service 方法的描述性消息。</span><span class="sxs-lookup"><span data-stu-id="a2b39-156">A descriptive message describing the XML Web service method.</span></span> <span data-ttu-id="a2b39-157">默认值为 <see cref="F:System.String.Empty" />。</span><span class="sxs-lookup"><span data-stu-id="a2b39-157">The default value is <see cref="F:System.String.Empty" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a2b39-158">当生成 XML Web service 的说明文档时 (如服务说明和服务帮助页), 将在 XML Web service 的预期使用者中显示描述性消息。</span><span class="sxs-lookup"><span data-stu-id="a2b39-158">The descriptive message is displayed to prospective consumers of the XML Web service when description documents for the XML Web service are generated, such as the Service Description and the Service help page.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="a2b39-159">在下面的示例中, 字符串`Obtains the Server Computer Name`用于描述 XML Web service 的服务说明和服务帮助页中的 XML Web service 方法。</span><span class="sxs-lookup"><span data-stu-id="a2b39-159">In the example below, the string `Obtains the Server Computer Name` is used to describe the XML Web service method in the Service Description and Service help page for the XML Web service.</span></span>  
  
 [!code-aspx-csharp[Classic WebMethodAttribute.Description Example#1](~/samples/snippets/csharp/VS_Snippets_Remoting/Classic WebMethodAttribute.Description Example/CS/sourcecs.asmx)]
 [!code-aspx-vb[Classic WebMethodAttribute.Description Example#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/Classic WebMethodAttribute.Description Example/VB/sourcevb.asmx)]  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Web.Services.WebMethodAttribute" />
      </Docs>
    </Member>
    <Member MemberName="EnableSession">
      <MemberSignature Language="C#" Value="public bool EnableSession { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool EnableSession" />
      <MemberSignature Language="DocId" Value="P:System.Web.Services.WebMethodAttribute.EnableSession" />
      <MemberSignature Language="VB.NET" Value="Public Property EnableSession As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool EnableSession { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.EnableSession : bool with get, set" Usage="System.Web.Services.WebMethodAttribute.EnableSession" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Services</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="a2b39-160">指示是否为 XML Web service 方法启用会话状态。</span><span class="sxs-lookup"><span data-stu-id="a2b39-160">Indicates whether session state is enabled for an XML Web service method.</span></span></summary>
        <value><span data-ttu-id="a2b39-161">如果为 XML Web services 方法启用会话状态，则为 <see langword="true" />。</span><span class="sxs-lookup"><span data-stu-id="a2b39-161"><see langword="true" /> if session state is enabled for an XML Web service method.</span></span> <span data-ttu-id="a2b39-162">默认值为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="a2b39-162">The default is <see langword="false" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a2b39-163">为了将会话状态存储在 ASP.NET <xref:System.Web.SessionState.HttpSessionState>对象中, XML Web service 必须继承自<xref:System.Web.Services.WebService> , 并<xref:System.Web.Services.WebMethodAttribute> <xref:System.Web.Services.WebMethodAttribute.EnableSession%2A>应用于 XML Web service 方法, 并将属性设置为`true`。</span><span class="sxs-lookup"><span data-stu-id="a2b39-163">In order to store session state in the ASP.NET <xref:System.Web.SessionState.HttpSessionState> object, the XML Web service must inherit from <xref:System.Web.Services.WebService> and a <xref:System.Web.Services.WebMethodAttribute> applied to the XML Web service method, setting the <xref:System.Web.Services.WebMethodAttribute.EnableSession%2A> property to `true`.</span></span> <span data-ttu-id="a2b39-164">如果 XML Web service 方法不需要会话状态, 则禁用它可能会提高性能。</span><span class="sxs-lookup"><span data-stu-id="a2b39-164">If session state is not needed for an XML Web service method, then disabling it may improve performance.</span></span>  
  
 <span data-ttu-id="a2b39-165">XML Web service 客户端由 XML Web service 返回的 HTTP cookie 唯一标识。</span><span class="sxs-lookup"><span data-stu-id="a2b39-165">An XML Web service client is uniquely identified by an HTTP cookie returned by an XML Web service.</span></span> <span data-ttu-id="a2b39-166">为了使 XML Web service 维护客户端的会话状态, 客户端必须保持 cookie。</span><span class="sxs-lookup"><span data-stu-id="a2b39-166">In order for an XML Web service to maintain session state for a client, the client must persist the cookie.</span></span> <span data-ttu-id="a2b39-167">客户端可以在调用 XML Web service 方法之前, 通过创建新<xref:System.Net.CookieContainer>的实例并将<xref:System.Web.Services.Protocols.HttpWebClientProtocol.CookieContainer%2A>其分配给代理类的属性, 来接收 HTTP cookie。</span><span class="sxs-lookup"><span data-stu-id="a2b39-167">Clients can receive the HTTP cookie by creating a new instance of <xref:System.Net.CookieContainer> and assigning that to the <xref:System.Web.Services.Protocols.HttpWebClientProtocol.CookieContainer%2A> property of the proxy class before calling the XML Web service method.</span></span> <span data-ttu-id="a2b39-168">如果你需要在代理类实例超出范围时维持会话状态, 则客户端必须在调用 XML Web service 之间保持 HTTP cookie。</span><span class="sxs-lookup"><span data-stu-id="a2b39-168">If you need to maintain session state beyond when the proxy class instance goes out of scope, the client must persist the HTTP cookie between calls to the XML Web service.</span></span> <span data-ttu-id="a2b39-169">例如, Web 窗体客户端可以通过将<xref:System.Net.CookieContainer>其保存在其自己的会话状态中, 来保存 HTTP cookie。</span><span class="sxs-lookup"><span data-stu-id="a2b39-169">For instance, a Web Forms client can persist the HTTP cookie by saving the <xref:System.Net.CookieContainer> in its own session state.</span></span> <span data-ttu-id="a2b39-170">由于并非所有 XML Web services 都使用会话状态, 因此客户端不一定总是需要使用<xref:System.Web.Services.Protocols.HttpWebClientProtocol.CookieContainer%2A>客户端代理的属性, 因此 XML Web service 的文档应指出是否使用会话状态。</span><span class="sxs-lookup"><span data-stu-id="a2b39-170">Because not all XML Web services use session state and thus clients are not always required to use the <xref:System.Web.Services.Protocols.HttpWebClientProtocol.CookieContainer%2A> property of a client proxy, the documentation for the XML Web service should state whether session state is used.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="a2b39-171">下面的示例使用会话状态来确定特定会话访问 XML Web service 方法`SessionHitCounter`的次数。</span><span class="sxs-lookup"><span data-stu-id="a2b39-171">The example below uses session state to determine how many times a particular session accesses the XML Web service method `SessionHitCounter`.</span></span>  
  
 [!code-aspx-csharp[Classic WebMethodAttribute.EnableSession Example#1](~/samples/snippets/csharp/VS_Snippets_Remoting/Classic WebMethodAttribute.EnableSession Example/CS/sourcecs.asmx)]
 [!code-aspx-vb[Classic WebMethodAttribute.EnableSession Example#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/Classic WebMethodAttribute.EnableSession Example/VB/sourcevb.asmx)]    
  
 <span data-ttu-id="a2b39-172">下面的代码示例是使用会话状态的 XML Web service 的 Web 窗体客户端。</span><span class="sxs-lookup"><span data-stu-id="a2b39-172">The following code example is a Web Forms client of an XML Web service that uses session state.</span></span> <span data-ttu-id="a2b39-173">客户端通过将会话存储在客户端的会话状态中, 来保存唯一标识该会话的 HTTP cookie。</span><span class="sxs-lookup"><span data-stu-id="a2b39-173">The client persists the HTTP cookie that uniquely identifies the session by storing it in the client's session state.</span></span>  
  
 [!code-aspx-csharp[HttpWebClientProtocol.CookieContainer#1](~/samples/snippets/csharp/VS_Snippets_Remoting/HttpWebClientProtocol.CookieContainer/CS/serverusageclientcs.aspx#1)]
 [!code-aspx-vb[HttpWebClientProtocol.CookieContainer#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/HttpWebClientProtocol.CookieContainer/VB/serverusageclientvb.aspx#1)]  
  
 ]]></format>
        </remarks>
        <altmember cref="P:System.Web.Services.Protocols.HttpWebClientProtocol.CookieContainer" />
      </Docs>
    </Member>
    <Member MemberName="MessageName">
      <MemberSignature Language="C#" Value="public string MessageName { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string MessageName" />
      <MemberSignature Language="DocId" Value="P:System.Web.Services.WebMethodAttribute.MessageName" />
      <MemberSignature Language="VB.NET" Value="Public Property MessageName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ MessageName { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.MessageName : string with get, set" Usage="System.Web.Services.WebMethodAttribute.MessageName" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Services</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="a2b39-174">在传递到 XML Web service 方法和从 XML Web service 方法返回的数据中用于 XML Web service 方法的名称。</span><span class="sxs-lookup"><span data-stu-id="a2b39-174">The name used for the XML Web service method in the data passed to and returned from an XML Web service method.</span></span></summary>
        <value><span data-ttu-id="a2b39-175">在传递到 XML Web services 方法和从 XML Web services 方法返回的数据中用于 XML Web services 方法的名称。</span><span class="sxs-lookup"><span data-stu-id="a2b39-175">The name used for the XML Web service method in the data passed to and from an XML Web service method.</span></span> <span data-ttu-id="a2b39-176">默认值是 XML Web services 方法的名称。</span><span class="sxs-lookup"><span data-stu-id="a2b39-176">The default is the name of the XML Web service method.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a2b39-177"><xref:System.Web.Services.WebMethodAttribute.MessageName%2A>属性可用于对方法或属性名称使用别名。</span><span class="sxs-lookup"><span data-stu-id="a2b39-177">The <xref:System.Web.Services.WebMethodAttribute.MessageName%2A> property can be used to alias method or property names.</span></span> <span data-ttu-id="a2b39-178"><xref:System.Web.Services.WebMethodAttribute.MessageName%2A>属性的最常见用途是唯一标识多态方法。</span><span class="sxs-lookup"><span data-stu-id="a2b39-178">The most common use of the <xref:System.Web.Services.WebMethodAttribute.MessageName%2A> property will be to uniquely identify polymorphic methods.</span></span> <span data-ttu-id="a2b39-179">默认情况下<xref:System.Web.Services.WebMethodAttribute.MessageName%2A> , 设置为 XML Web service 方法的名称。</span><span class="sxs-lookup"><span data-stu-id="a2b39-179">By default, <xref:System.Web.Services.WebMethodAttribute.MessageName%2A> is set to the name of the XML Web service method.</span></span> <span data-ttu-id="a2b39-180">因此, 如果 XML Web service 包含具有相同名称的两个或多个 XML Web service 方法, 则可以通过将设置<xref:System.Web.Services.WebMethodAttribute.MessageName%2A>为在 XML Web service 中唯一的名称来唯一标识各个 XML Web service 方法, 而不会更改的名称。代码中的实际方法名称。</span><span class="sxs-lookup"><span data-stu-id="a2b39-180">Therefore, if an XML Web service contains two or more XML Web service methods with the same name, you can uniquely identify the individual XML Web service methods by setting the <xref:System.Web.Services.WebMethodAttribute.MessageName%2A> to a name unique within the XML Web service, without changing the name of the actual method name in code.</span></span>  
  
 <span data-ttu-id="a2b39-181">当数据传递到 XML Web service 时, 它将在请求中发送, 并在响应中发送数据。</span><span class="sxs-lookup"><span data-stu-id="a2b39-181">When data is passed to an XML Web service it is sent in a request and when it is returned it is sent in a response.</span></span> <span data-ttu-id="a2b39-182">在请求和响应中, 用于 XML Web service 方法的名称是其<xref:System.Web.Services.WebMethodAttribute.MessageName%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="a2b39-182">Within the request and response, the name used for the XML Web service method is its <xref:System.Web.Services.WebMethodAttribute.MessageName%2A> property.</span></span>  
  
 <span data-ttu-id="a2b39-183">与 XML Web service 方法关联的消息名称在 XML Web service 中必须是唯一的。</span><span class="sxs-lookup"><span data-stu-id="a2b39-183">The message name associated with an XML Web service method must be unique within the XML Web service.</span></span>  
  
 <span data-ttu-id="a2b39-184">如果在客户端调用原始方法后添加了名称相同但参数不同的新 XML Web service 方法, 则应为新方法指定不同的消息名称, 但原始消息名称应保持不变, 以确保兼容性与现有客户端。</span><span class="sxs-lookup"><span data-stu-id="a2b39-184">If a new XML Web service method with the same name but different parameters is added after clients are calling the original method, a different message name should be specified for the new method but the original message name should be left as is to ensure compatibility with existing clients.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="a2b39-185">在下面的示例中<xref:System.Web.Services.WebMethodAttribute.MessageName%2A> , 用于区分这两种`Add`方法。</span><span class="sxs-lookup"><span data-stu-id="a2b39-185">In the example below, <xref:System.Web.Services.WebMethodAttribute.MessageName%2A> is used to disambiguate the two `Add` methods.</span></span>  
  
 [!code-aspx-csharp[Classic WebMethodAttribute.MessageName Example#1](~/samples/snippets/csharp/VS_Snippets_Remoting/Classic WebMethodAttribute.MessageName Example/CS/sourcecs.asmx)]
 [!code-aspx-vb[Classic WebMethodAttribute.MessageName Example#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/Classic WebMethodAttribute.MessageName Example/VB/sourcevb.asmx)]
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Web.Services.WebMethodAttribute" />
      </Docs>
    </Member>
    <Member MemberName="TransactionOption">
      <MemberSignature Language="C#" Value="public System.EnterpriseServices.TransactionOption TransactionOption { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance valuetype System.EnterpriseServices.TransactionOption TransactionOption" />
      <MemberSignature Language="DocId" Value="P:System.Web.Services.WebMethodAttribute.TransactionOption" />
      <MemberSignature Language="VB.NET" Value="Public Property TransactionOption As TransactionOption" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::EnterpriseServices::TransactionOption TransactionOption { System::EnterpriseServices::TransactionOption get(); void set(System::EnterpriseServices::TransactionOption value); };" />
      <MemberSignature Language="F#" Value="member this.TransactionOption : System.EnterpriseServices.TransactionOption with get, set" Usage="System.Web.Services.WebMethodAttribute.TransactionOption" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Services</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EnterpriseServices.TransactionOption</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="a2b39-186">指示 XML Web service 方法的事务支持。</span><span class="sxs-lookup"><span data-stu-id="a2b39-186">Indicates the transaction support of an XML Web service method.</span></span></summary>
        <value><span data-ttu-id="a2b39-187">XML Web services 方法的事务支持。</span><span class="sxs-lookup"><span data-stu-id="a2b39-187">The transaction support of an XML Web service method.</span></span> <span data-ttu-id="a2b39-188">默认值为 <see cref="F:System.EnterpriseServices.TransactionOption.Disabled" />。</span><span class="sxs-lookup"><span data-stu-id="a2b39-188">The default is <see cref="F:System.EnterpriseServices.TransactionOption.Disabled" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a2b39-189">由于 HTTP 协议的无状态特性, XML Web service 方法只能作为事务中的根对象参与。</span><span class="sxs-lookup"><span data-stu-id="a2b39-189">XML Web service methods can only participate as the root object in a transaction, due to the stateless nature of the HTTP protocol.</span></span> <span data-ttu-id="a2b39-190">如果 COM 对象标记为在 "组件服务" 管理工具中的事务内运行, XML Web service 方法可以调用与 XML Web service 方法参与同一事务的 COM 对象。</span><span class="sxs-lookup"><span data-stu-id="a2b39-190">XML Web service methods can invoke COM objects that participate in the same transaction as the XML Web service method, if the COM object is marked to run within a transaction in the Component Services administrative tool.</span></span> <span data-ttu-id="a2b39-191"><xref:System.Web.Services.WebMethodAttribute.TransactionOption%2A>如果 XML Web service 方法的`Required`属性`RequiresNew`为或, 则将使用`Required`或`RequiresNew`的<xref:System.Web.Services.WebMethodAttribute.TransactionOption%2A>属性调用另一个 XML Web service 方法, 每个 XML Web service 方法会自行参与transaction, 因为 XML Web service 方法只能充当事务中的根对象。</span><span class="sxs-lookup"><span data-stu-id="a2b39-191">If an XML Web service method with a <xref:System.Web.Services.WebMethodAttribute.TransactionOption%2A> property of `Required` or `RequiresNew` invokes another XML Web service method with a <xref:System.Web.Services.WebMethodAttribute.TransactionOption%2A> property of `Required` or `RequiresNew`, each XML Web service method participates in its own transaction, because an XML Web service method can only act as the root object in a transaction.</span></span>  
  
|<span data-ttu-id="a2b39-192">项</span><span class="sxs-lookup"><span data-stu-id="a2b39-192">Item</span></span>|<span data-ttu-id="a2b39-193">说明</span><span class="sxs-lookup"><span data-stu-id="a2b39-193">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="a2b39-194">已禁用</span><span class="sxs-lookup"><span data-stu-id="a2b39-194">Disabled</span></span>|<span data-ttu-id="a2b39-195">指示 XML Web service 方法不在事务范围内运行。</span><span class="sxs-lookup"><span data-stu-id="a2b39-195">Indicates that the XML Web service method does not run within the scope of a transaction.</span></span> <span data-ttu-id="a2b39-196">处理请求时, 将在没有事务的情况下执行 XML Web service 方法。</span><span class="sxs-lookup"><span data-stu-id="a2b39-196">When a request is processed, the XML Web service method is executed without a transaction.</span></span><br /><br /> <span data-ttu-id="a2b39-197">[WebMethod (TransactionOption = `TransactionOption.Disabled`)]</span><span class="sxs-lookup"><span data-stu-id="a2b39-197">[WebMethod(TransactionOption= `TransactionOption.Disabled`)]</span></span>|  
|<span data-ttu-id="a2b39-198">NotSupported</span><span class="sxs-lookup"><span data-stu-id="a2b39-198">NotSupported</span></span>|<span data-ttu-id="a2b39-199">指示 XML Web service 方法不在事务范围内运行。</span><span class="sxs-lookup"><span data-stu-id="a2b39-199">Indicates that the XML Web service method does not run within the scope of a transaction.</span></span> <span data-ttu-id="a2b39-200">处理请求时, 将在没有事务的情况下执行 XML Web service 方法。</span><span class="sxs-lookup"><span data-stu-id="a2b39-200">When a request is processed, the XML Web service method is executed without a transaction.</span></span><br /><br /> <span data-ttu-id="a2b39-201">[WebMethod (TransactionOption = `TransactionOption.NotSupported`)]</span><span class="sxs-lookup"><span data-stu-id="a2b39-201">[WebMethod(TransactionOption= `TransactionOption.NotSupported`)]</span></span>|  
|<span data-ttu-id="a2b39-202">支持</span><span class="sxs-lookup"><span data-stu-id="a2b39-202">Supported</span></span>|<span data-ttu-id="a2b39-203">指示 XML Web service 方法不在事务范围内运行。</span><span class="sxs-lookup"><span data-stu-id="a2b39-203">Indicates that the XML Web service method does not run within the scope of transactions.</span></span> <span data-ttu-id="a2b39-204">处理请求时, 将创建不带事务的 XML Web service。</span><span class="sxs-lookup"><span data-stu-id="a2b39-204">When a request is processed, the XML Web service is created without a transaction.</span></span><br /><br /> <span data-ttu-id="a2b39-205">[WebMethod (TransactionOption = `TransactionOption.Supported`)]</span><span class="sxs-lookup"><span data-stu-id="a2b39-205">[WebMethod(TransactionOption= `TransactionOption.Supported`)]</span></span>|  
|<span data-ttu-id="a2b39-206">必需</span><span class="sxs-lookup"><span data-stu-id="a2b39-206">Required</span></span>|<span data-ttu-id="a2b39-207">指示 XML Web service 方法需要事务。</span><span class="sxs-lookup"><span data-stu-id="a2b39-207">Indicates that the XML Web service method requires a transaction.</span></span> <span data-ttu-id="a2b39-208">由于 XML Web service 方法只能作为事务中的根对象参与, 将为 XML Web service 方法创建新的事务。</span><span class="sxs-lookup"><span data-stu-id="a2b39-208">Since XML Web service methods can only participate as the root object in a transaction, a new transaction will be created for the XML Web service method.</span></span><br /><br /> <span data-ttu-id="a2b39-209">[WebMethod (TransactionOption = `TransactionOption.Required`)]</span><span class="sxs-lookup"><span data-stu-id="a2b39-209">[WebMethod(TransactionOption= `TransactionOption.Required`)]</span></span>|  
|<span data-ttu-id="a2b39-210">RequiresNew</span><span class="sxs-lookup"><span data-stu-id="a2b39-210">RequiresNew</span></span>|<span data-ttu-id="a2b39-211">指示 XML Web service 方法需要新的事务。</span><span class="sxs-lookup"><span data-stu-id="a2b39-211">Indicates that the XML Web service method requires a new transaction.</span></span> <span data-ttu-id="a2b39-212">处理请求时, 将在新事务中创建 XML Web service。</span><span class="sxs-lookup"><span data-stu-id="a2b39-212">When a request is processed, the XML Web service is created within a new transaction.</span></span><br /><br /> <span data-ttu-id="a2b39-213">[WebMethod (TransactionOption = `TransactionOption.RequiresNew`)]</span><span class="sxs-lookup"><span data-stu-id="a2b39-213">[WebMethod(TransactionOption= `TransactionOption.RequiresNew`)]</span></span>|  
  
 <span data-ttu-id="a2b39-214">如果 XML Web service 方法引发异常或未捕获异常, 则会自动中止事务。</span><span class="sxs-lookup"><span data-stu-id="a2b39-214">If an exception is thrown from or not caught by an XML Web service method, the transaction is automatically aborted.</span></span> <span data-ttu-id="a2b39-215">如果没有发生异常, 则自动提交事务, 除非方法显式调用`SetAbort`。</span><span class="sxs-lookup"><span data-stu-id="a2b39-215">If no exceptions occur the transaction is automatically committed unless the method explicitly calls `SetAbort`.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="a2b39-216">下面的示例在调用`Transfer`方法时开始一个新事务。</span><span class="sxs-lookup"><span data-stu-id="a2b39-216">The example below begins a new transaction when the `Transfer` method is called.</span></span>  
  
 [!code-aspx-csharp[Classic WebMethodAttribute.TransactionOption Example#1](~/samples/snippets/csharp/VS_Snippets_Remoting/Classic WebMethodAttribute.TransactionOption Example/CS/sourcecs.asmx)]
 [!code-aspx-vb[Classic WebMethodAttribute.TransactionOption Example#1](~/samples/snippets/visualbasic/VS_Snippets_Remoting/Classic WebMethodAttribute.TransactionOption Example/VB/sourcevb.asmx)]
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.EnterpriseServices.TransactionOption" />
      </Docs>
    </Member>
  </Members>
</Type>
