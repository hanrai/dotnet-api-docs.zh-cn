<Type Name="SessionIDManager" FullName="System.Web.SessionState.SessionIDManager">
  <Metadata><Meta Name="ms.openlocfilehash" Value="9eff7e100c7465f6d64f34f5b01ff18100053156" /><Meta Name="ms.sourcegitcommit" Value="055a4a82a0b08bfbdc21bd1347fb71f7fe2c099e" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="08/15/2019" /><Meta Name="ms.locfileid" Value="69048094" /></Metadata><TypeSignature Language="C#" Value="public class SessionIDManager : System.Web.SessionState.ISessionIDManager" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit SessionIDManager extends System.Object implements class System.Web.SessionState.ISessionIDManager" />
  <TypeSignature Language="DocId" Value="T:System.Web.SessionState.SessionIDManager" />
  <TypeSignature Language="VB.NET" Value="Public Class SessionIDManager&#xA;Implements ISessionIDManager" />
  <TypeSignature Language="C++ CLI" Value="public ref class SessionIDManager : System::Web::SessionState::ISessionIDManager" />
  <TypeSignature Language="F#" Value="type SessionIDManager = class&#xA;    interface ISessionIDManager" />
  <AssemblyInfo>
    <AssemblyName>System.Web</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces>
    <Interface>
      <InterfaceName>System.Web.SessionState.ISessionIDManager</InterfaceName>
    </Interface>
  </Interfaces>
  <Docs>
    <summary><span data-ttu-id="9d853-101">管理 ASP.NET 会话状态的唯一标识符。</span><span class="sxs-lookup"><span data-stu-id="9d853-101">Manages unique identifiers for ASP.NET session state.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="9d853-102"><xref:System.Web.SessionState.SessionIDManager>类是一个 HTTP 模块, 它管理用于 ASP.NET 会话状态的唯一会话标识符。</span><span class="sxs-lookup"><span data-stu-id="9d853-102">The <xref:System.Web.SessionState.SessionIDManager> class is an HTTP module that manages unique session identifiers for use with ASP.NET session state.</span></span> <span data-ttu-id="9d853-103">ASP.NET 会话的<xref:System.Web.SessionState.HttpSessionState.SessionID%2A>唯一标识符是属性, 该属性可<xref:System.Web.HttpContext.Session%2A>从当前<xref:System.Web.HttpContext>或<xref:System.Web.UI.Page>的属性访问。</span><span class="sxs-lookup"><span data-stu-id="9d853-103">The unique identifier for an ASP.NET session is the <xref:System.Web.SessionState.HttpSessionState.SessionID%2A> property, which can be accessed from the <xref:System.Web.HttpContext.Session%2A> property of the current <xref:System.Web.HttpContext> or <xref:System.Web.UI.Page>.</span></span> <span data-ttu-id="9d853-104">ASP.NET 会话标识符是随机生成的数字, 编码为24个字符的字符串, 由从 a 到 z 的小写字符和从0到5的数字组成。</span><span class="sxs-lookup"><span data-stu-id="9d853-104">The ASP.NET session identifier is a randomly generated number encoded into a 24-character string consisting of lowercase characters from a to z and numbers from 0 to 5.</span></span>  
  
 <span data-ttu-id="9d853-105">默认情况下, <xref:System.Web.SessionState.HttpSessionState.SessionID%2A>此值随每个请求发送到 ASP.NET 应用程序。</span><span class="sxs-lookup"><span data-stu-id="9d853-105">By default, the <xref:System.Web.SessionState.HttpSessionState.SessionID%2A> value is sent in a cookie with each request to the ASP.NET application.</span></span> <span data-ttu-id="9d853-106">包含<xref:System.Web.SessionState.HttpSessionState.SessionID%2A>该值的 cookie 的名称为 _sessionid, 默认值为 .asp。</span><span class="sxs-lookup"><span data-stu-id="9d853-106">The name of the cookie that contains the <xref:System.Web.SessionState.HttpSessionState.SessionID%2A> value is ASP.NET_SessionId by default.</span></span> <span data-ttu-id="9d853-107">可以通过将`cookieName` [sessionState 元素 (ASP.NET 设置架构)](https://msdn.microsoft.com/library/bda6fb8c-0076-43e3-9ce2-8cf1f8bdaa7d)的属性设置为所需的 cookie 名称来配置其他 cookie 名称。</span><span class="sxs-lookup"><span data-stu-id="9d853-107">You can configure a different cookie name by setting the `cookieName` attribute of the [sessionState Element (ASP.NET Settings Schema)](https://msdn.microsoft.com/library/bda6fb8c-0076-43e3-9ce2-8cf1f8bdaa7d) to the desired cookie name.</span></span>  
  
 <span data-ttu-id="9d853-108">如果要禁止在 ASP.NET 应用程序中使用 cookie 并仍使用会话状态, 则可以通过设置`cookieless`的属性`sessionState` , 将应用程序配置为将会话标识符存储在 URL 而不是 cookie 中应用程序的 web.config 文件中的元素。`true`</span><span class="sxs-lookup"><span data-stu-id="9d853-108">If you want to disable the use of cookies in your ASP.NET application and still make use of session state, you can configure your application to store the session identifier in the URL instead of a cookie by setting the `cookieless` attribute of the `sessionState` element to `true` in the Web.config file for your application.</span></span> <span data-ttu-id="9d853-109">有关更多信息，请参见 <xref:System.Web.SessionState.HttpSessionStateContainer.IsCookieless%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="9d853-109">For more information, see the <xref:System.Web.SessionState.HttpSessionStateContainer.IsCookieless%2A> property.</span></span>  
  
 ]]></format>
    </remarks>
    <block subset="none" type="overrides"><para><span data-ttu-id="9d853-110">您可以通过创建继承<see cref="T:System.Web.SessionState.SessionIDManager" />类的类并使用您自己的自定义实现来<see cref="M:System.Web.SessionState.SessionIDManager.CreateSessionID(System.Web.HttpContext)" />重写和<see cref="M:System.Web.SessionState.SessionIDManager.Validate(System.String)" />方法, 来将 ASP.NET 会话标识符替换为您自己的自定义会话标识符。</span><span class="sxs-lookup"><span data-stu-id="9d853-110">You can replace the ASP.NET session identifier with your own custom session identifier by creating a class that inherits the <see cref="T:System.Web.SessionState.SessionIDManager" /> class and overriding the <see cref="M:System.Web.SessionState.SessionIDManager.CreateSessionID(System.Web.HttpContext)" /> and <see cref="M:System.Web.SessionState.SessionIDManager.Validate(System.String)" /> methods with your own custom implementations.</span></span> <span data-ttu-id="9d853-111">有关替代<see cref="T:System.Web.SessionState.SessionIDManager" />类和实现这些方法的示例, 请参阅<see cref="M:System.Web.SessionState.SessionIDManager.CreateSessionID(System.Web.HttpContext)" />为方法提供的示例。</span><span class="sxs-lookup"><span data-stu-id="9d853-111">For an example of overriding the <see cref="T:System.Web.SessionState.SessionIDManager" /> class and implementing these methods, see the example provided for the <see cref="M:System.Web.SessionState.SessionIDManager.CreateSessionID(System.Web.HttpContext)" /> method.</span></span>  
  
<span data-ttu-id="9d853-112">您可以通过创建<see cref="T:System.Web.SessionState.SessionIDManager" /> <see cref="T:System.Web.SessionState.ISessionIDManager" />实现接口的类来将整个与自定义会话 ID 管理器替换。</span><span class="sxs-lookup"><span data-stu-id="9d853-112">You can replace the entire <see cref="T:System.Web.SessionState.SessionIDManager" /> with a custom session-ID manager by creating a class that implements the <see cref="T:System.Web.SessionState.ISessionIDManager" /> interface.</span></span> <span data-ttu-id="9d853-113">如果自定义会话 ID 管理器支持无 cookie 会话标识符, 你将需要实现用于在 URL 中发送和检索会话标识符的解决方案, 如 ISAPI 筛选器。</span><span class="sxs-lookup"><span data-stu-id="9d853-113">If your custom session-ID manager supports cookieless session identifiers, you will need to implement a solution for sending and retrieving session identifiers in the URL, such as an ISAPI filter.</span></span> <span data-ttu-id="9d853-114">有关创建自定义会话 ID 管理器的详细信息, 请<see cref="T:System.Web.SessionState.ISessionIDManager" />参阅。</span><span class="sxs-lookup"><span data-stu-id="9d853-114">For more information about creating a custom session-ID manager, see <see cref="T:System.Web.SessionState.ISessionIDManager" />.</span></span></para></block>
    <related type="Article" href="https://msdn.microsoft.com/library/6d60d381-6521-4e1d-9089-da6464f2a9bc"><span data-ttu-id="9d853-115">ASP.NET 会话状态概述</span><span class="sxs-lookup"><span data-stu-id="9d853-115">ASP.NET Session State Overview</span></span></related>
    <related type="Article" href="https://msdn.microsoft.com/library/f540bdeb-d22e-4e1d-ba8a-fe6c9926283b"><span data-ttu-id="9d853-116">HTTP 处理程序和 HTTP 模块概述</span><span class="sxs-lookup"><span data-stu-id="9d853-116">HTTP Handlers and HTTP Modules Overview</span></span></related>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public SessionIDManager ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionIDManager.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; SessionIDManager();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="9d853-117">创建 <see cref="T:System.Web.SessionState.SessionIDManager" /> 类的实例。</span><span class="sxs-lookup"><span data-stu-id="9d853-117">Creates an instance of the <see cref="T:System.Web.SessionState.SessionIDManager" /> class.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="9d853-118">此构造函数不应从应用程序代码调用。</span><span class="sxs-lookup"><span data-stu-id="9d853-118">This constructor is not intended to be called from application code.</span></span>  
  
 <span data-ttu-id="9d853-119">ASP.NET 调用此构造函数以创建<xref:System.Web.SessionState.SessionIDManager>类的实例。</span><span class="sxs-lookup"><span data-stu-id="9d853-119">ASP.NET calls this constructor to create an instance of the <xref:System.Web.SessionState.SessionIDManager> class.</span></span> <span data-ttu-id="9d853-120">调用构造函数后, ASP.NET 调用<xref:System.Web.SessionState.SessionIDManager.Initialize%2A>方法来初始化新<xref:System.Web.SessionState.SessionIDManager>的对象。</span><span class="sxs-lookup"><span data-stu-id="9d853-120">After calling the constructor, ASP.NET calls the <xref:System.Web.SessionState.SessionIDManager.Initialize%2A> method to initialize the new <xref:System.Web.SessionState.SessionIDManager> object.</span></span>  
  
 ]]></format>
        </remarks>
        <related type="Article" href="https://msdn.microsoft.com/library/6d60d381-6521-4e1d-9089-da6464f2a9bc"><span data-ttu-id="9d853-121">ASP.NET 会话状态概述</span><span class="sxs-lookup"><span data-stu-id="9d853-121">ASP.NET Session State Overview</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CreateSessionID">
      <MemberSignature Language="C#" Value="public virtual string CreateSessionID (System.Web.HttpContext context);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance string CreateSessionID(class System.Web.HttpContext context) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionIDManager.CreateSessionID(System.Web.HttpContext)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function CreateSessionID (context As HttpContext) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::String ^ CreateSessionID(System::Web::HttpContext ^ context);" />
      <MemberSignature Language="F#" Value="abstract member CreateSessionID : System.Web.HttpContext -&gt; string&#xA;override this.CreateSessionID : System.Web.HttpContext -&gt; string" Usage="sessionIDManager.CreateSessionID context" />
      <MemberType>Method</MemberType>
      <Implements>
        <InterfaceMember>M:System.Web.SessionState.ISessionIDManager.CreateSessionID(System.Web.HttpContext)</InterfaceMember>
      </Implements>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="context" Type="System.Web.HttpContext" />
      </Parameters>
      <Docs>
        <param name="context"><span data-ttu-id="9d853-122">引用用于处理 HTTP 请求（例如，<see cref="T:System.Web.HttpContext" /> 和 <see cref="P:System.Web.HttpContext.Request" /> 属性）的服务器对象的当前 <see cref="P:System.Web.HttpContext.Response" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="9d853-122">The current <see cref="T:System.Web.HttpContext" /> object that references server objects used to process HTTP requests (for example, the <see cref="P:System.Web.HttpContext.Request" /> and <see cref="P:System.Web.HttpContext.Response" /> properties).</span></span></param>
        <summary><span data-ttu-id="9d853-123">创建会话的唯一会话标识符。</span><span class="sxs-lookup"><span data-stu-id="9d853-123">Creates a unique session identifier for the session.</span></span></summary>
        <returns><span data-ttu-id="9d853-124">唯一会话标识符。</span><span class="sxs-lookup"><span data-stu-id="9d853-124">A unique session identifier.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="9d853-125">此方法不应从应用程序代码调用。</span><span class="sxs-lookup"><span data-stu-id="9d853-125">This method is not intended to be called from application code.</span></span>  
  
 <span data-ttu-id="9d853-126"><xref:System.Web.SessionState.SessionIDManager.CreateSessionID%2A>方法返回唯一会话标识符, 该标识符是一个随机生成的数字, 该数字编码为24个字符的字符串, 其中包含从 a 到 z 的小写字符和从0到5的数字。</span><span class="sxs-lookup"><span data-stu-id="9d853-126">The <xref:System.Web.SessionState.SessionIDManager.CreateSessionID%2A> method returns a unique session identifier that is a randomly generated number encoded into a 24-character string consisting of lowercase characters from a to z and numbers from 0 to 5.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="9d853-127">下面的代码示例演示一个类, 该类继承<xref:System.Web.SessionState.SessionIDManager>类, 并使用<xref:System.Web.SessionState.SessionIDManager.CreateSessionID%2A>提供<xref:System.Web.SessionState.SessionIDManager.Validate%2A>并验证<xref:System.Guid>作为的<xref:System.Web.SessionState.HttpSessionState.SessionID%2A>方法来重写和方法。</span><span class="sxs-lookup"><span data-stu-id="9d853-127">The following code example shows a class that inherits the <xref:System.Web.SessionState.SessionIDManager> class and overrides the <xref:System.Web.SessionState.SessionIDManager.CreateSessionID%2A> and <xref:System.Web.SessionState.SessionIDManager.Validate%2A> methods with methods that supply and validate a <xref:System.Guid> as the <xref:System.Web.SessionState.HttpSessionState.SessionID%2A>.</span></span>  
  
 [!code-csharp[System.Web.SessionState.ISessionIDModule#7](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.SessionState.ISessionIDModule/CS/GuidSessionIDModule.cs#7)]
 [!code-vb[System.Web.SessionState.ISessionIDModule#7](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.SessionState.ISessionIDModule/VB/GuidSessionIDModule.vb#7)]  
  
 <span data-ttu-id="9d853-128">若要使用本示例中演示的自定义类, 请配置[SessionState 元素 (ASP.NET Settings Schema)](https://msdn.microsoft.com/library/bda6fb8c-0076-43e3-9ce2-8cf1f8bdaa7d)元素的 sessionIDManagerType 特性, 如下面的示例中所示。</span><span class="sxs-lookup"><span data-stu-id="9d853-128">To use the custom class demonstrated in this example, configure the sessionIDManagerType attribute of the [sessionState Element (ASP.NET Settings Schema)](https://msdn.microsoft.com/library/bda6fb8c-0076-43e3-9ce2-8cf1f8bdaa7d) element, as shown in the following example.</span></span>  
  
```  
<sessionState  
  Mode="InProc"  
  stateConnectionString="tcp=127.0.0.1:42424"  
  stateNetworkTimeout="10"  
  sqlConnectionString="data source=127.0.0.1;Integrated Security=SSPI"  
  sqlCommandTimeout="30"  
  customProvider=""  
  cookieless="false"  
  regenerateExpiredSessionId="false"  
  timeout="20"  
  sessionIDManagerType="Your.ID.Manager.Type,  
    CustomAssemblyNameInBinFolder"  
/>  
```  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="9d853-129">可以通过创建继承<see cref="T:System.Web.SessionState.SessionIDManager" />类的类并<see cref="M:System.Web.SessionState.SessionIDManager.CreateSessionID(System.Web.HttpContext)" />将和<see cref="M:System.Web.SessionState.SessionIDManager.Validate(System.String)" />方法替换为自己的自定义实现, 来提供 ASP.NET 会话状态要使用的自定义会话标识符。</span><span class="sxs-lookup"><span data-stu-id="9d853-129">You can supply a custom session identifier to be used by ASP.NET session state by creating a class that inherits the <see cref="T:System.Web.SessionState.SessionIDManager" /> class and overriding the <see cref="M:System.Web.SessionState.SessionIDManager.CreateSessionID(System.Web.HttpContext)" /> and <see cref="M:System.Web.SessionState.SessionIDManager.Validate(System.String)" /> methods with your own custom implementations.</span></span> <span data-ttu-id="9d853-130">如果自定义会话 ID 不满足<see cref="M:System.Web.SessionState.SessionIDManager.Validate(System.String)" />方法的默认实现所强制的字符约束, 则应<see cref="M:System.Web.SessionState.SessionIDManager.Validate(System.String)" />重写方法以提供自定义会话标识符的验证。</span><span class="sxs-lookup"><span data-stu-id="9d853-130">If your custom session ID does not meet the character constraints enforced by the default implementation of the <see cref="M:System.Web.SessionState.SessionIDManager.Validate(System.String)" /> method, you should override the <see cref="M:System.Web.SessionState.SessionIDManager.Validate(System.String)" /> method to provide validation of your custom session identifier.</span></span> <span data-ttu-id="9d853-131">在这种情况下<see cref="T:System.Web.SessionState.SessionIDManager" /> , 类将确保自定义会话标识符在 http 响应中进行 url 编码, 并分别<see cref="M:System.Web.SessionState.SessionIDManager.Encode(System.String)" />使用和<see cref="M:System.Web.SessionState.SessionIDManager.Decode(System.String)" />方法从 http 请求解码 url。</span><span class="sxs-lookup"><span data-stu-id="9d853-131">In this case, the <see cref="T:System.Web.SessionState.SessionIDManager" /> class will ensure that your custom session identifier is URL encoded in the HTTP response and URL decoded from the HTTP request using the <see cref="M:System.Web.SessionState.SessionIDManager.Encode(System.String)" /> and <see cref="M:System.Web.SessionState.SessionIDManager.Decode(System.String)" /> methods, respectively.</span></span></para></block>
        <related type="Article" href="https://msdn.microsoft.com/library/6d60d381-6521-4e1d-9089-da6464f2a9bc"><span data-ttu-id="9d853-132">ASP.NET 会话状态概述</span><span class="sxs-lookup"><span data-stu-id="9d853-132">ASP.NET Session State Overview</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Decode">
      <MemberSignature Language="C#" Value="public virtual string Decode (string id);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance string Decode(string id) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionIDManager.Decode(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function Decode (id As String) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::String ^ Decode(System::String ^ id);" />
      <MemberSignature Language="F#" Value="abstract member Decode : string -&gt; string&#xA;override this.Decode : string -&gt; string" Usage="sessionIDManager.Decode id" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="id" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="id"><span data-ttu-id="9d853-133">要解码的会话标识符。</span><span class="sxs-lookup"><span data-stu-id="9d853-133">The session identifier to decode.</span></span></param>
        <summary><span data-ttu-id="9d853-134">对从 Cookie 或 URL 获取的 URL 编码会话标识符进行解码。</span><span class="sxs-lookup"><span data-stu-id="9d853-134">Decodes a URL-encoded session identifier obtained from a cookie or the URL.</span></span></summary>
        <returns><span data-ttu-id="9d853-135">已解码的会话标识符。</span><span class="sxs-lookup"><span data-stu-id="9d853-135">The decoded session identifier.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="9d853-136">此方法不应从应用程序代码调用。</span><span class="sxs-lookup"><span data-stu-id="9d853-136">This method is not intended to be called from application code.</span></span>  
  
 <span data-ttu-id="9d853-137">此方法<xref:System.Web.SessionState.SessionIDManager>由类在内部使用, 以对继承<xref:System.Web.SessionState.HttpSessionState.SessionID%2A> <xref:System.Web.SessionState.SessionIDManager>类的类创建的自定义值进行解码并重<xref:System.Web.SessionState.SessionIDManager.CreateSessionID%2A>写<xref:System.Web.SessionState.SessionIDManager.Validate%2A>和方法。</span><span class="sxs-lookup"><span data-stu-id="9d853-137">This method is used internally by the <xref:System.Web.SessionState.SessionIDManager> class to decode custom <xref:System.Web.SessionState.HttpSessionState.SessionID%2A> values created by classes that inherit the <xref:System.Web.SessionState.SessionIDManager> class and override the <xref:System.Web.SessionState.SessionIDManager.CreateSessionID%2A> and <xref:System.Web.SessionState.SessionIDManager.Validate%2A> methods.</span></span> <span data-ttu-id="9d853-138">若要确保通过<xref:System.Web.SessionState.SessionIDManager.GetSessionID%2A>方法从 HTTP 请求中检索到的自定义会话标识符值的保真度<xref:System.Web.SessionState.SessionIDManager> , 请使用<xref:System.Web.HttpUtility.UrlDecode%2A>方法对自定义值进行解码。</span><span class="sxs-lookup"><span data-stu-id="9d853-138">To ensure the fidelity of a custom session-identifier value retrieved from the HTTP request by the <xref:System.Web.SessionState.SessionIDManager.GetSessionID%2A> method, the <xref:System.Web.SessionState.SessionIDManager> decodes the custom value using the <xref:System.Web.HttpUtility.UrlDecode%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="9d853-139">有关继承<see cref="T:System.Web.SessionState.SessionIDManager" />类并重<see cref="M:System.Web.SessionState.SessionIDManager.CreateSessionID(System.Web.HttpContext)" />写<see cref="M:System.Web.SessionState.SessionIDManager.Validate(System.String)" /> 和<see cref="M:System.Web.SessionState.SessionIDManager.CreateSessionID(System.Web.HttpContext)" />方法的类的示例, 请参阅为方法提供的示例。</span><span class="sxs-lookup"><span data-stu-id="9d853-139">For an example of a class that inherits the <see cref="T:System.Web.SessionState.SessionIDManager" /> class and overrides the <see cref="M:System.Web.SessionState.SessionIDManager.CreateSessionID(System.Web.HttpContext)" /> and <see cref="M:System.Web.SessionState.SessionIDManager.Validate(System.String)" /> methods, see the example provided for the <see cref="M:System.Web.SessionState.SessionIDManager.CreateSessionID(System.Web.HttpContext)" /> method.</span></span></para></block>
        <related type="Article" href="https://msdn.microsoft.com/library/6d60d381-6521-4e1d-9089-da6464f2a9bc"><span data-ttu-id="9d853-140">ASP.NET 会话状态概述</span><span class="sxs-lookup"><span data-stu-id="9d853-140">ASP.NET Session State Overview</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Encode">
      <MemberSignature Language="C#" Value="public virtual string Encode (string id);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance string Encode(string id) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionIDManager.Encode(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function Encode (id As String) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::String ^ Encode(System::String ^ id);" />
      <MemberSignature Language="F#" Value="abstract member Encode : string -&gt; string&#xA;override this.Encode : string -&gt; string" Usage="sessionIDManager.Encode id" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="id" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="id"><span data-ttu-id="9d853-141">要编码的会话标识符。</span><span class="sxs-lookup"><span data-stu-id="9d853-141">The session identifier to encode.</span></span></param>
        <summary><span data-ttu-id="9d853-142">对保存到 Cookie 或 URL 的会话标识符进行编码。</span><span class="sxs-lookup"><span data-stu-id="9d853-142">Encodes the session identifier for saving to either a cookie or the URL.</span></span></summary>
        <returns><span data-ttu-id="9d853-143">已编码的会话标识符。</span><span class="sxs-lookup"><span data-stu-id="9d853-143">The encoded session identifier.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="9d853-144">此方法不应从应用程序代码调用。</span><span class="sxs-lookup"><span data-stu-id="9d853-144">This method is not intended to be called from application code.</span></span>  
  
 <span data-ttu-id="9d853-145">此方法<xref:System.Web.SessionState.SessionIDManager>由类在内部使用, 用于对继承<xref:System.Web.SessionState.HttpSessionState.SessionID%2A> <xref:System.Web.SessionState.SessionIDManager>类的类创建的自定义值进行编码, <xref:System.Web.SessionState.SessionIDManager.CreateSessionID%2A>并重<xref:System.Web.SessionState.SessionIDManager.Validate%2A>写和方法。</span><span class="sxs-lookup"><span data-stu-id="9d853-145">This method is used internally by the <xref:System.Web.SessionState.SessionIDManager> class to encode custom <xref:System.Web.SessionState.HttpSessionState.SessionID%2A> values created by classes that inherit the <xref:System.Web.SessionState.SessionIDManager> class and override the <xref:System.Web.SessionState.SessionIDManager.CreateSessionID%2A> and <xref:System.Web.SessionState.SessionIDManager.Validate%2A> methods.</span></span> <span data-ttu-id="9d853-146">若要确保通过<xref:System.Web.SessionState.SessionIDManager.SaveSessionID%2A>方法存储在 HTTP 响应中的自定义会话标识符值的保真度<xref:System.Web.SessionState.SessionIDManager> , 请使用<xref:System.Web.HttpUtility.UrlEncode%2A>方法对自定义值进行编码。</span><span class="sxs-lookup"><span data-stu-id="9d853-146">To ensure the fidelity of a custom session-identifier value stored in the HTTP response by the <xref:System.Web.SessionState.SessionIDManager.SaveSessionID%2A> method, the <xref:System.Web.SessionState.SessionIDManager> encodes the custom value using the <xref:System.Web.HttpUtility.UrlEncode%2A> method.</span></span>  
  
 <span data-ttu-id="9d853-147">有关继承<xref:System.Web.SessionState.SessionIDManager>类并重<xref:System.Web.SessionState.SessionIDManager.CreateSessionID%2A> <xref:System.Web.SessionState.SessionIDManager.Validate%2A> 写<xref:System.Web.SessionState.SessionIDManager.CreateSessionID%2A>和方法的类的示例, 请参见方法。</span><span class="sxs-lookup"><span data-stu-id="9d853-147">For an example of a class that inherits the <xref:System.Web.SessionState.SessionIDManager> class and overrides the <xref:System.Web.SessionState.SessionIDManager.CreateSessionID%2A> and <xref:System.Web.SessionState.SessionIDManager.Validate%2A> methods, see the <xref:System.Web.SessionState.SessionIDManager.CreateSessionID%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <related type="Article" href="https://msdn.microsoft.com/library/6d60d381-6521-4e1d-9089-da6464f2a9bc"><span data-ttu-id="9d853-148">ASP.NET 会话状态概述</span><span class="sxs-lookup"><span data-stu-id="9d853-148">ASP.NET Session State Overview</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetSessionID">
      <MemberSignature Language="C#" Value="public string GetSessionID (System.Web.HttpContext context);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance string GetSessionID(class System.Web.HttpContext context) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionIDManager.GetSessionID(System.Web.HttpContext)" />
      <MemberSignature Language="VB.NET" Value="Public Function GetSessionID (context As HttpContext) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::String ^ GetSessionID(System::Web::HttpContext ^ context);" />
      <MemberSignature Language="F#" Value="abstract member GetSessionID : System.Web.HttpContext -&gt; string&#xA;override this.GetSessionID : System.Web.HttpContext -&gt; string" Usage="sessionIDManager.GetSessionID context" />
      <MemberType>Method</MemberType>
      <Implements>
        <InterfaceMember>M:System.Web.SessionState.ISessionIDManager.GetSessionID(System.Web.HttpContext)</InterfaceMember>
      </Implements>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="context" Type="System.Web.HttpContext" />
      </Parameters>
      <Docs>
        <param name="context"><span data-ttu-id="9d853-149">引用用于处理 HTTP 请求（例如，<see cref="T:System.Web.HttpContext" /> 和 <see cref="P:System.Web.HttpContext.Request" /> 属性）的服务器对象的当前 <see cref="P:System.Web.HttpContext.Response" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="9d853-149">The current <see cref="T:System.Web.HttpContext" /> object that references server objects used to process HTTP requests (for example, the <see cref="P:System.Web.HttpContext.Request" /> and <see cref="P:System.Web.HttpContext.Response" /> properties).</span></span></param>
        <summary><span data-ttu-id="9d853-150">从当前 Web 请求获取会话标识符值。</span><span class="sxs-lookup"><span data-stu-id="9d853-150">Gets the session-identifier value from the current Web request.</span></span></summary>
        <returns><span data-ttu-id="9d853-151">当前的 <see cref="P:System.Web.SessionState.HttpSessionState.SessionID" />。</span><span class="sxs-lookup"><span data-stu-id="9d853-151">The current <see cref="P:System.Web.SessionState.HttpSessionState.SessionID" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="9d853-152">此方法不应从应用程序代码调用。</span><span class="sxs-lookup"><span data-stu-id="9d853-152">This method is not intended to be called from application code.</span></span>  
  
 <span data-ttu-id="9d853-153">在<xref:System.Web.SessionState.SessionStateModule> <xref:System.Web.SessionState.HttpSessionState.SessionID%2A> <xref:System.Web.HttpRequest>事件中<xref:System.Web.SessionState.SessionIDManager.GetSessionID%2A>调用方法, 以便从当前检索。 <xref:System.Web.HttpApplication.AcquireRequestState></span><span class="sxs-lookup"><span data-stu-id="9d853-153">The <xref:System.Web.SessionState.SessionStateModule> calls the <xref:System.Web.SessionState.SessionIDManager.GetSessionID%2A> method during the <xref:System.Web.HttpApplication.AcquireRequestState> event to retrieve the <xref:System.Web.SessionState.HttpSessionState.SessionID%2A> from the current <xref:System.Web.HttpRequest>.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.Web.HttpException"><span data-ttu-id="9d853-154">从 HTTP 请求检索到的会话标识符值的长度超过了 <see cref="P:System.Web.SessionState.SessionIDManager.SessionIDMaxLength" /> 值。</span><span class="sxs-lookup"><span data-stu-id="9d853-154">The length of the session-identifier value retrieved from the HTTP request exceeds the <see cref="P:System.Web.SessionState.SessionIDManager.SessionIDMaxLength" /> value.</span></span></exception>
        <related type="Article" href="https://msdn.microsoft.com/library/6d60d381-6521-4e1d-9089-da6464f2a9bc"><span data-ttu-id="9d853-155">ASP.NET 会话状态概述</span><span class="sxs-lookup"><span data-stu-id="9d853-155">ASP.NET Session State Overview</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Initialize">
      <MemberSignature Language="C#" Value="public void Initialize ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void Initialize() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionIDManager.Initialize" />
      <MemberSignature Language="VB.NET" Value="Public Sub Initialize ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void Initialize();" />
      <MemberSignature Language="F#" Value="abstract member Initialize : unit -&gt; unit&#xA;override this.Initialize : unit -&gt; unit" Usage="sessionIDManager.Initialize " />
      <MemberType>Method</MemberType>
      <Implements>
        <InterfaceMember>M:System.Web.SessionState.ISessionIDManager.Initialize</InterfaceMember>
      </Implements>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="9d853-156">用配置文件中的信息初始化 <see cref="T:System.Web.SessionState.SessionIDManager" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="9d853-156">Initializes the <see cref="T:System.Web.SessionState.SessionIDManager" /> object with information from configuration files.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="9d853-157">方法从配置文件的[sessionState 元素 (ASP.NET 设置架构)](https://msdn.microsoft.com/library/bda6fb8c-0076-43e3-9ce2-8cf1f8bdaa7d)配置元素中读取会话配置数据。 <xref:System.Web.SessionState.SessionIDManager.Initialize%2A></span><span class="sxs-lookup"><span data-stu-id="9d853-157">The <xref:System.Web.SessionState.SessionIDManager.Initialize%2A> method reads the session configuration data from the [sessionState Element (ASP.NET Settings Schema)](https://msdn.microsoft.com/library/bda6fb8c-0076-43e3-9ce2-8cf1f8bdaa7d) configuration element of the configuration files.</span></span>  
  
 ]]></format>
        </remarks>
        <related type="Article" href="https://msdn.microsoft.com/library/6d60d381-6521-4e1d-9089-da6464f2a9bc"><span data-ttu-id="9d853-158">ASP.NET 会话状态概述</span><span class="sxs-lookup"><span data-stu-id="9d853-158">ASP.NET Session State Overview</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="InitializeRequest">
      <MemberSignature Language="C#" Value="public bool InitializeRequest (System.Web.HttpContext context, bool suppressAutoDetectRedirect, out bool supportSessionIDReissue);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance bool InitializeRequest(class System.Web.HttpContext context, bool suppressAutoDetectRedirect, [out] bool&amp; supportSessionIDReissue) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionIDManager.InitializeRequest(System.Web.HttpContext,System.Boolean,System.Boolean@)" />
      <MemberSignature Language="VB.NET" Value="Public Function InitializeRequest (context As HttpContext, suppressAutoDetectRedirect As Boolean, ByRef supportSessionIDReissue As Boolean) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual bool InitializeRequest(System::Web::HttpContext ^ context, bool suppressAutoDetectRedirect, [Runtime::InteropServices::Out] bool % supportSessionIDReissue);" />
      <MemberSignature Language="F#" Value="abstract member InitializeRequest : System.Web.HttpContext * bool *  -&gt; bool&#xA;override this.InitializeRequest : System.Web.HttpContext * bool *  -&gt; bool" Usage="sessionIDManager.InitializeRequest (context, suppressAutoDetectRedirect, supportSessionIDReissue)" />
      <MemberType>Method</MemberType>
      <Implements>
        <InterfaceMember>M:System.Web.SessionState.ISessionIDManager.InitializeRequest(System.Web.HttpContext,System.Boolean,System.Boolean@)</InterfaceMember>
      </Implements>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="context" Type="System.Web.HttpContext" />
        <Parameter Name="suppressAutoDetectRedirect" Type="System.Boolean" />
        <Parameter Name="supportSessionIDReissue" Type="System.Boolean" RefType="out" />
      </Parameters>
      <Docs>
        <param name="context"><span data-ttu-id="9d853-159">包含有关当前请求的信息的 <see cref="T:System.Web.HttpContext" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="9d853-159">The <see cref="T:System.Web.HttpContext" /> object that contains information about the current request.</span></span></param>
        <param name="suppressAutoDetectRedirect"><span data-ttu-id="9d853-160"><see langword="true" /> 表示进行重定向以确定 Cookie 支持；否则为 <see langword="false" />，表示禁止自动重定向以确定 Cookie 支持。</span><span class="sxs-lookup"><span data-stu-id="9d853-160"><see langword="true" /> to redirect to determine cookie support; otherwise, <see langword="false" /> to suppress automatic redirection to determine cookie support.</span></span></param>
        <param name="supportSessionIDReissue"><span data-ttu-id="9d853-161">该方法返回时会包含一个布尔值，指示原始 ID 过期后 <see cref="T:System.Web.SessionState.SessionIDManager" /> 对象是否支持发出新的会话 ID。</span><span class="sxs-lookup"><span data-stu-id="9d853-161">When this method returns, contains a Boolean that indicates whether the <see cref="T:System.Web.SessionState.SessionIDManager" /> object supports issuing new session IDs when the original ID is out of date.</span></span> <span data-ttu-id="9d853-162">此参数未经初始化即被传递。</span><span class="sxs-lookup"><span data-stu-id="9d853-162">This parameter is passed uninitialized.</span></span></param>
        <summary><span data-ttu-id="9d853-163">针对每个请求执行 <see cref="T:System.Web.SessionState.SessionIDManager" /> 对象的初始化。</span><span class="sxs-lookup"><span data-stu-id="9d853-163">Performs per-request initialization of the <see cref="T:System.Web.SessionState.SessionIDManager" /> object.</span></span></summary>
        <returns><span data-ttu-id="9d853-164"><see langword="true" /> 指示 <see cref="T:System.Web.SessionState.SessionIDManager" /> 对象已进行重定向以确定 Cookie 支持；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="9d853-164"><see langword="true" /> to indicate the <see cref="T:System.Web.SessionState.SessionIDManager" /> object has done a redirect to determine cookie support; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="9d853-165">当元素的`AutoDetect`属性设置为时, <xref:System.Web.SessionState.SessionIDManager>对象将重定向到同一路径, 以确定连接浏览器是否支持 cookie。 `cookieless` `sessionState`</span><span class="sxs-lookup"><span data-stu-id="9d853-165">When the `cookieless` attribute of the `sessionState` element is set to `AutoDetect`, the <xref:System.Web.SessionState.SessionIDManager> object will redirect to the same path to determine whether the connecting browser supports cookies.</span></span> <span data-ttu-id="9d853-166">如果参数为`false`, 则服务器不会执行此重定向。 `suppressAutoDetectRedirect`</span><span class="sxs-lookup"><span data-stu-id="9d853-166">If the `suppressAutoDetectRedirect` parameter is `false`, the server will not perform this redirection.</span></span>  
  
 <span data-ttu-id="9d853-167">如果请求使用 cookie 进行`false`会话标识, 则将返回参数。`supportSessionIDReissue`</span><span class="sxs-lookup"><span data-stu-id="9d853-167">The `supportSessionIDReissue` parameter will be returned `false` if the request is using cookies for session identification.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="RemoveSessionID">
      <MemberSignature Language="C#" Value="public void RemoveSessionID (System.Web.HttpContext context);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void RemoveSessionID(class System.Web.HttpContext context) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionIDManager.RemoveSessionID(System.Web.HttpContext)" />
      <MemberSignature Language="VB.NET" Value="Public Sub RemoveSessionID (context As HttpContext)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void RemoveSessionID(System::Web::HttpContext ^ context);" />
      <MemberSignature Language="F#" Value="abstract member RemoveSessionID : System.Web.HttpContext -&gt; unit&#xA;override this.RemoveSessionID : System.Web.HttpContext -&gt; unit" Usage="sessionIDManager.RemoveSessionID context" />
      <MemberType>Method</MemberType>
      <Implements>
        <InterfaceMember>M:System.Web.SessionState.ISessionIDManager.RemoveSessionID(System.Web.HttpContext)</InterfaceMember>
      </Implements>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="context" Type="System.Web.HttpContext" />
      </Parameters>
      <Docs>
        <param name="context"><span data-ttu-id="9d853-168">引用用于处理 HTTP 请求（例如，<see cref="T:System.Web.HttpContext" /> 和 <see cref="P:System.Web.HttpContext.Request" /> 属性）的服务器对象的当前 <see cref="P:System.Web.HttpContext.Response" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="9d853-168">The current <see cref="T:System.Web.HttpContext" /> object that references server objects used to process HTTP requests (for example, the <see cref="P:System.Web.HttpContext.Request" /> and <see cref="P:System.Web.HttpContext.Response" /> properties).</span></span></param>
        <summary><span data-ttu-id="9d853-169">从 HTTP 响应中删除会话标识符 Cookie。</span><span class="sxs-lookup"><span data-stu-id="9d853-169">Deletes the session-identifier cookie from the HTTP response.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="9d853-170">此方法不应从应用程序代码调用。</span><span class="sxs-lookup"><span data-stu-id="9d853-170">This method is not intended to be called from application code.</span></span>  
  
 <span data-ttu-id="9d853-171"><xref:System.Web.SessionState.SessionStateModule> <xref:System.Web.SessionState.SessionIDManager.RemoveSessionID%2A>在事件中<xref:System.Web.HttpApplication.ReleaseRequestState>调用方法, 以从的<xref:System.Web.HttpResponse> 集合中移除会话标识符(如果创建了新的会话但未使用)。<xref:System.Web.HttpResponse.Cookies%2A></span><span class="sxs-lookup"><span data-stu-id="9d853-171">The <xref:System.Web.SessionState.SessionStateModule> calls the <xref:System.Web.SessionState.SessionIDManager.RemoveSessionID%2A> method during the <xref:System.Web.HttpApplication.ReleaseRequestState> event to remove the session identifier from the <xref:System.Web.HttpResponse.Cookies%2A> collection of the <xref:System.Web.HttpResponse> if a new session was created but was not used.</span></span>  
  
 ]]></format>
        </remarks>
        <related type="Article" href="https://msdn.microsoft.com/library/6d60d381-6521-4e1d-9089-da6464f2a9bc"><span data-ttu-id="9d853-172">ASP.NET 会话状态概述</span><span class="sxs-lookup"><span data-stu-id="9d853-172">ASP.NET Session State Overview</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="SaveSessionID">
      <MemberSignature Language="C#" Value="public void SaveSessionID (System.Web.HttpContext context, string id, out bool redirected, out bool cookieAdded);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SaveSessionID(class System.Web.HttpContext context, string id, [out] bool&amp; redirected, [out] bool&amp; cookieAdded) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionIDManager.SaveSessionID(System.Web.HttpContext,System.String,System.Boolean@,System.Boolean@)" />
      <MemberSignature Language="VB.NET" Value="Public Sub SaveSessionID (context As HttpContext, id As String, ByRef redirected As Boolean, ByRef cookieAdded As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void SaveSessionID(System::Web::HttpContext ^ context, System::String ^ id, [Runtime::InteropServices::Out] bool % redirected, [Runtime::InteropServices::Out] bool % cookieAdded);" />
      <MemberSignature Language="F#" Value="abstract member SaveSessionID : System.Web.HttpContext * string *  *  -&gt; unit&#xA;override this.SaveSessionID : System.Web.HttpContext * string *  *  -&gt; unit" Usage="sessionIDManager.SaveSessionID (context, id, redirected, cookieAdded)" />
      <MemberType>Method</MemberType>
      <Implements>
        <InterfaceMember>M:System.Web.SessionState.ISessionIDManager.SaveSessionID(System.Web.HttpContext,System.String,System.Boolean@,System.Boolean@)</InterfaceMember>
      </Implements>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="context" Type="System.Web.HttpContext" />
        <Parameter Name="id" Type="System.String" />
        <Parameter Name="redirected" Type="System.Boolean" RefType="out" />
        <Parameter Name="cookieAdded" Type="System.Boolean" RefType="out" />
      </Parameters>
      <Docs>
        <param name="context"><span data-ttu-id="9d853-173">引用用于处理 HTTP 请求（例如，<see cref="T:System.Web.HttpContext" /> 和 <see cref="P:System.Web.HttpContext.Request" /> 属性）的服务器对象的当前 <see cref="P:System.Web.HttpContext.Response" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="9d853-173">The current <see cref="T:System.Web.HttpContext" /> object that references server objects used to process HTTP requests (for example, the <see cref="P:System.Web.HttpContext.Request" /> and <see cref="P:System.Web.HttpContext.Response" /> properties).</span></span></param>
        <param name="id"><span data-ttu-id="9d853-174">会话标识符。</span><span class="sxs-lookup"><span data-stu-id="9d853-174">The session identifier.</span></span></param>
        <param name="redirected"><span data-ttu-id="9d853-175">该方法返回时，如果响应重定向到当前 URL（会话标识符已添加至该 URL），则包含布尔值 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="9d853-175">When this method returns, contains a Boolean value that is <see langword="true" /> if the response is redirected to the current URL with the session identifier added to the URL; otherwise, <see langword="false" />.</span></span></param>
        <param name="cookieAdded"><span data-ttu-id="9d853-176">该方法返回时，如果 Cookie 已添加至 HTTP 响应，则包含布尔值 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="9d853-176">When this method returns, contains a Boolean value that is <see langword="true" /> if a cookie has been added to the HTTP response; otherwise, <see langword="false" />.</span></span></param>
        <summary><span data-ttu-id="9d853-177">将新创建的会话标识符保存到 HTTP 响应。</span><span class="sxs-lookup"><span data-stu-id="9d853-177">Saves a newly created session identifier to the HTTP response.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="9d853-178">此方法不应从应用程序代码调用。</span><span class="sxs-lookup"><span data-stu-id="9d853-178">This method is not intended to be called from application code.</span></span>  
  
 <span data-ttu-id="9d853-179">此<xref:System.Web.SessionState.SessionIDManager.SaveSessionID%2A>方法在<xref:System.Web.HttpApplication.AcquireRequestState>事件期间<xref:System.Web.SessionState.SessionStateModule>由对象调用。</span><span class="sxs-lookup"><span data-stu-id="9d853-179">The <xref:System.Web.SessionState.SessionIDManager.SaveSessionID%2A> method is called by the <xref:System.Web.SessionState.SessionStateModule> object during the <xref:System.Web.HttpApplication.AcquireRequestState> event.</span></span> <span data-ttu-id="9d853-180"><xref:System.Web.SessionState.SessionIDManager.SaveSessionID%2A>方法将会话标识符存储在 URL (使用无 cookie 会话状态) 或未过期会话 cookie 中。</span><span class="sxs-lookup"><span data-stu-id="9d853-180">The <xref:System.Web.SessionState.SessionIDManager.SaveSessionID%2A> method stores the session identifier in either the URL (when cookieless session state is used) or in a non-expiring session cookie.</span></span>  
  
 <span data-ttu-id="9d853-181">默认情况下, <xref:System.Web.SessionState.SessionIDManager>将唯一会话标识符放入非过期会话 cookie, 并`cookieAdded`将参数设置为`true`。</span><span class="sxs-lookup"><span data-stu-id="9d853-181">By default, the <xref:System.Web.SessionState.SessionIDManager> places a unique session identifier into a non-expiring session cookie and sets the `cookieAdded` parameter to `true`.</span></span>  
  
 <span data-ttu-id="9d853-182">对于无 cookie 会话状态, <xref:System.Web.SessionState.SessionIDManager>对象会在当前 url 中插入唯一会话标识符, 将浏览器重定向到包含会话标识符的新 url, 然后`redirected`将参数设置为`true`。</span><span class="sxs-lookup"><span data-stu-id="9d853-182">For a cookieless session state, the <xref:System.Web.SessionState.SessionIDManager> object inserts a unique session identifier into the current URL, redirects the browser to the new URL that includes the session identifier, and then sets the `redirected` parameter to `true`.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.Web.HttpException"><span data-ttu-id="9d853-183">响应已发送。</span><span class="sxs-lookup"><span data-stu-id="9d853-183">The response has already been sent.</span></span>  
  
 <span data-ttu-id="9d853-184">或</span><span class="sxs-lookup"><span data-stu-id="9d853-184">-or-</span></span>  
  
 <span data-ttu-id="9d853-185">传递给此方法的会话 ID 验证失败。</span><span class="sxs-lookup"><span data-stu-id="9d853-185">The session ID passed to this method failed validation.</span></span></exception>
        <related type="Article" href="https://msdn.microsoft.com/library/6d60d381-6521-4e1d-9089-da6464f2a9bc"><span data-ttu-id="9d853-186">ASP.NET 会话状态概述</span><span class="sxs-lookup"><span data-stu-id="9d853-186">ASP.NET Session State Overview</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="SessionIDMaxLength">
      <MemberSignature Language="C#" Value="public static int SessionIDMaxLength { get; }" />
      <MemberSignature Language="ILAsm" Value=".property int32 SessionIDMaxLength" />
      <MemberSignature Language="DocId" Value="P:System.Web.SessionState.SessionIDManager.SessionIDMaxLength" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly Property SessionIDMaxLength As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property int SessionIDMaxLength { int get(); };" />
      <MemberSignature Language="F#" Value="member this.SessionIDMaxLength : int" Usage="System.Web.SessionState.SessionIDManager.SessionIDMaxLength" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="9d853-187">获取有效会话标识符的最大长度。</span><span class="sxs-lookup"><span data-stu-id="9d853-187">Gets the maximum length of a valid session identifier.</span></span></summary>
        <value><span data-ttu-id="9d853-188">有效会话标识符的最大长度。</span><span class="sxs-lookup"><span data-stu-id="9d853-188">The maximum length of a valid session identifier.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="9d853-189">会话标识符的最大长度为80个字符。</span><span class="sxs-lookup"><span data-stu-id="9d853-189">The maximum length of a session identifier is 80 characters.</span></span>  
  
 <span data-ttu-id="9d853-190">尽管<xref:System.Web.SessionState.SessionIDManager.CreateSessionID%2A>方法创建的会话标识符长度为24个字符, 但<xref:System.Web.SessionState.SessionIDManager>类允许的会话标识符的最大长度为80个字符。</span><span class="sxs-lookup"><span data-stu-id="9d853-190">While session identifiers created by the <xref:System.Web.SessionState.SessionIDManager.CreateSessionID%2A> method are 24 characters long, the maximum length of a session identifier allowed by the <xref:System.Web.SessionState.SessionIDManager> class is 80 characters.</span></span> <span data-ttu-id="9d853-191">如果实现自定义<xref:System.Web.SessionState.SessionIDManager>, 这一点特别重要。</span><span class="sxs-lookup"><span data-stu-id="9d853-191">This is especially important if you implement a custom <xref:System.Web.SessionState.SessionIDManager>.</span></span> <span data-ttu-id="9d853-192">方法, 它从当前<xref:System.Web.HttpRequest>检索会话标识符值, 以确保<xref:System.Web.SessionState.SessionIDManager.SessionIDMaxLength%2A>值不会超出该值, 并且会话标识符是仅包含小写字符的24个字符的字符串<xref:System.Web.SessionState.SessionIDManager.GetSessionID%2A>从 a 到 z, 并通过调用<xref:System.Web.SessionState.SessionIDManager.Validate%2A>方法将数字0到5。</span><span class="sxs-lookup"><span data-stu-id="9d853-192">The <xref:System.Web.SessionState.SessionIDManager.GetSessionID%2A> method, which retrieves session-identifier values from the current <xref:System.Web.HttpRequest>, ensures that values do not exceed the <xref:System.Web.SessionState.SessionIDManager.SessionIDMaxLength%2A> value and that the session identifier is a 24-character string containing only the lowercase characters a to z and the numbers 0 to 5 by calling the <xref:System.Web.SessionState.SessionIDManager.Validate%2A> method.</span></span> <span data-ttu-id="9d853-193">如果实现的自定义<xref:System.Web.SessionState.SessionIDManager>类<xref:System.Web.SessionState.SessionIDManager>继承类并重写<xref:System.Web.SessionState.SessionIDManager.CreateSessionID%2A>方法, 但不<xref:System.Web.SessionState.SessionIDManager.Validate%2A>重写方法, 则自定义会话标识符值必须满足上述约束。</span><span class="sxs-lookup"><span data-stu-id="9d853-193">If you implement a custom <xref:System.Web.SessionState.SessionIDManager> class that inherits the <xref:System.Web.SessionState.SessionIDManager> class and overrides the <xref:System.Web.SessionState.SessionIDManager.CreateSessionID%2A> method but not the <xref:System.Web.SessionState.SessionIDManager.Validate%2A> method, your custom session-identifier values must meet the constraints above.</span></span> <span data-ttu-id="9d853-194">有关替代<xref:System.Web.SessionState.SessionIDManager>类和实现这些方法的示例, 请参阅<xref:System.Web.SessionState.SessionIDManager.CreateSessionID%2A>为方法提供的示例。</span><span class="sxs-lookup"><span data-stu-id="9d853-194">For an example of overriding the <xref:System.Web.SessionState.SessionIDManager> class and implementing these methods, see the example provided for the <xref:System.Web.SessionState.SessionIDManager.CreateSessionID%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <related type="Article" href="https://msdn.microsoft.com/library/6d60d381-6521-4e1d-9089-da6464f2a9bc"><span data-ttu-id="9d853-195">ASP.NET 会话状态概述</span><span class="sxs-lookup"><span data-stu-id="9d853-195">ASP.NET Session State Overview</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Validate">
      <MemberSignature Language="C#" Value="public virtual bool Validate (string id);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance bool Validate(string id) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.SessionState.SessionIDManager.Validate(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function Validate (id As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual bool Validate(System::String ^ id);" />
      <MemberSignature Language="F#" Value="abstract member Validate : string -&gt; bool&#xA;override this.Validate : string -&gt; bool" Usage="sessionIDManager.Validate id" />
      <MemberType>Method</MemberType>
      <Implements>
        <InterfaceMember>M:System.Web.SessionState.ISessionIDManager.Validate(System.String)</InterfaceMember>
      </Implements>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="id" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="id"><span data-ttu-id="9d853-196">要验证的会话标识符。</span><span class="sxs-lookup"><span data-stu-id="9d853-196">The session identifier to validate.</span></span></param>
        <summary><span data-ttu-id="9d853-197">获取一个值，该值指示会话标识符是否有效。</span><span class="sxs-lookup"><span data-stu-id="9d853-197">Gets a value indicating whether a session identifier is valid.</span></span></summary>
        <returns><span data-ttu-id="9d853-198">如果会话标识符有效，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="9d853-198"><see langword="true" /> if the session identifier is valid; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="9d853-199">此方法不应从应用程序代码调用。</span><span class="sxs-lookup"><span data-stu-id="9d853-199">This method is not intended to be called from application code.</span></span>  
  
 <span data-ttu-id="9d853-200">方法验证所提供`id`的是否为24个字符的字符串, 该字符串包含从 a 到 z 的小写字符和从0到5的数字, 以及会话 ID 的最大长度不超过80个字符。 <xref:System.Web.SessionState.SessionIDManager.Validate%2A></span><span class="sxs-lookup"><span data-stu-id="9d853-200">The <xref:System.Web.SessionState.SessionIDManager.Validate%2A> method verifies that the supplied `id` is a 24-character string consisting of lowercase characters from a to z and numbers from 0 to 5 and that the maximum length of the session ID does not exceed 80 characters.</span></span>  
  
 <span data-ttu-id="9d853-201">从 HTTP 请求检索<xref:System.Web.SessionState.SessionIDManager.Validate%2A>会话标识符时,方法会调用方法,以确保提供的会话标识符的格式正确。<xref:System.Web.SessionState.SessionIDManager.GetSessionID%2A></span><span class="sxs-lookup"><span data-stu-id="9d853-201">The <xref:System.Web.SessionState.SessionIDManager.GetSessionID%2A> method calls the <xref:System.Web.SessionState.SessionIDManager.Validate%2A> method when retrieving a session identifier from an HTTP request, to ensure that the supplied session identifier is properly formatted.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="9d853-202">下面的代码示例演示一个类, 该类继承<xref:System.Web.SessionState.SessionIDManager>类, 并使用<xref:System.Web.SessionState.SessionIDManager.CreateSessionID%2A>提供<xref:System.Web.SessionState.SessionIDManager.Validate%2A>并验证<xref:System.Guid>作为的<xref:System.Web.SessionState.HttpSessionState.SessionID%2A>方法来重写和方法。</span><span class="sxs-lookup"><span data-stu-id="9d853-202">The following code example shows a class that inherits the <xref:System.Web.SessionState.SessionIDManager> class and overrides the <xref:System.Web.SessionState.SessionIDManager.CreateSessionID%2A> and <xref:System.Web.SessionState.SessionIDManager.Validate%2A> methods with methods that supply and validate a <xref:System.Guid> as the <xref:System.Web.SessionState.HttpSessionState.SessionID%2A>.</span></span>  
  
 [!code-csharp[System.Web.SessionState.ISessionIDModule#7](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.SessionState.ISessionIDModule/CS/GuidSessionIDModule.cs#7)]
 [!code-vb[System.Web.SessionState.ISessionIDModule#7](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.SessionState.ISessionIDModule/VB/GuidSessionIDModule.vb#7)]  
  
 <span data-ttu-id="9d853-203">若要使用此示例中演示的自定义类, `SessionID`请将 web.config 文件中的 HTTP 模块替换为自定义类, 如下面的示例中所示。</span><span class="sxs-lookup"><span data-stu-id="9d853-203">To use the custom class demonstrated in this example, replace the `SessionID` HTTP module in your Web.config file with your custom class, as shown in the following example.</span></span>  
  
```  
<httpModules>  
  <remove name="SessionID" />  
  <add name="SessionID"  
       type="Samples.AspNet.Session.GuidSessionIDManager" />  
</httpModules>  
```  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="9d853-204">通过创建继承<see cref="T:System.Web.SessionState.SessionIDManager" />类的类, 并使用自己的自定义实现<see cref="M:System.Web.SessionState.SessionIDManager.CreateSessionID(System.Web.HttpContext)" />重写和<see cref="M:System.Web.SessionState.SessionIDManager.Validate(System.String)" />方法, 可以提供要由 ASP.NET 会话状态使用的自定义会话标识符。</span><span class="sxs-lookup"><span data-stu-id="9d853-204">You can supply a custom session identifier to be used by ASP.NET session state by creating a class that inherits the <see cref="T:System.Web.SessionState.SessionIDManager" /> class and overriding the <see cref="M:System.Web.SessionState.SessionIDManager.CreateSessionID(System.Web.HttpContext)" /> and <see cref="M:System.Web.SessionState.SessionIDManager.Validate(System.String)" /> methods with your own custom implementation.</span></span> <span data-ttu-id="9d853-205">即使在创建自定义会话标识符时, 此会话 ID 也会被<see cref="T:System.Web.SessionState.SessionIDManager" />类限制为80个字符。</span><span class="sxs-lookup"><span data-stu-id="9d853-205">Even when you create a custom session identifier, the session ID is limited to 80 characters by the <see cref="T:System.Web.SessionState.SessionIDManager" /> class.</span></span></para></block>
        <related type="Article" href="https://msdn.microsoft.com/library/6d60d381-6521-4e1d-9089-da6464f2a9bc"><span data-ttu-id="9d853-206">ASP.NET 会话状态概述</span><span class="sxs-lookup"><span data-stu-id="9d853-206">ASP.NET Session State Overview</span></span></related>
      </Docs>
    </Member>
  </Members>
</Type>
